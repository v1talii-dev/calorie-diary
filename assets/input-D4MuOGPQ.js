import{r as w,a3 as qn,m as Ge,R,w as ke,l as ae,e as an,E as Dn,u as Rt,F as Wn,s as ir,g as ar,_ as on,t as Hn,a4 as sn,a5 as Pt,a6 as Un,i as At,a7 as or,a8 as Bn,a9 as zn,k as ln,y as Kn,aa as Gn,z as Yn,ab as Rr,ac as Zn}from"./index-CKqvEcJe.js";import{d as Nt,b as Jn}from"./firebaseUserService-DqoBFBLB.js";var Xn=function(e){return function(t,r){var i=w.useRef(!1);e(function(){return function(){i.current=!1}},[]),e(function(){if(!i.current)i.current=!0;else return t()},r)}},Qn=function(e){return typeof e=="function"};function Pr(e,t){if(e===t)return!0;for(var r=0;r<e.length;r++)if(!Object.is(e[r],t[r]))return!1;return!0}function un(e){var t=w.useRef(e);return t.current=e,t}var ei=function(e){var t=un(e);w.useEffect(function(){return function(){t.current()}},[])},cn=!!(typeof window<"u"&&window.document&&window.document.createElement);function Vt(e,t){if(cn){if(!e)return t;var r;return Qn(e)?r=e():"current"in e?r=e.current:r=e,r}}var ti=function(e){return e.every(function(t){var r=Vt(t);return r?r.getRootNode()instanceof ShadowRoot:!1})},ri=function(e){return e?e.getRootNode():document},ni=function(e){if(!e||!document.getRootNode)return document;var t=Array.isArray(e)?e:[e];return ti(t)?ri(Vt(t[0])):document},ii=function(e){var t=function(r,i,n){var a=w.useRef(!1),o=w.useRef([]),s=w.useRef([]),l=w.useRef();e(function(){var u,c=Array.isArray(n)?n:[n],f=c.map(function(m){return Vt(m)});if(!a.current){a.current=!0,o.current=f,s.current=i,l.current=r();return}(f.length!==o.current.length||!Pr(o.current,f)||!Pr(s.current,i))&&((u=l.current)===null||u===void 0||u.call(l),o.current=f,s.current=i,l.current=r())}),ei(function(){var u;(u=l.current)===null||u===void 0||u.call(l),a.current=!1})};return t},ai=ii(w.useEffect);function oi(e,t,r){r===void 0&&(r="click");var i=un(e);ai(function(){var n=function(s){var l=Array.isArray(t)?t:[t];l.some(function(u){var c=Vt(u);return!c||c.contains(s.target)})||i.current(s)},a=ni(t),o=Array.isArray(r)?r:[r];return o.forEach(function(s){return a.addEventListener(s,n)}),function(){o.forEach(function(s){return a.removeEventListener(s,n)})}},Array.isArray(r)?r:[r],t)}var sr=cn?w.useLayoutEffect:w.useEffect;function si(e){return w.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),w.createElement("g",{id:"CloseCircleFill-CloseCircleFill",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},w.createElement("g",{id:"CloseCircleFill-编组"},w.createElement("rect",{id:"CloseCircleFill-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),w.createElement("path",{d:"M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M18.6753876,16 L15.5637812,16 C15.4576916,16 15.3559474,16.0421451 15.2809323,16.1171635 C15.124726,16.2733766 15.1247316,16.5266426 15.2809447,16.6828489 L15.2809447,16.6828489 L22.299066,23.7006641 L14.6828159,31.3171619 C14.6078042,31.3921761 14.5656632,31.4939157 14.5656632,31.6 C14.5656632,31.8209139 14.7447493,32 14.9656632,32 L14.9656632,32 L18.0753284,32 C18.1814068,32 18.2831412,31.9578638 18.3581544,31.8828594 L18.3581544,31.8828594 L24.420066,25.8216641 L30.4818451,31.8828564 C30.5568585,31.9578626 30.6585942,32 30.7646741,32 L30.7646741,32 L33.8763476,32 C33.9824309,32 34.0841695,31.9578599 34.1591835,31.8828496 C34.315397,31.7266436 34.3154031,31.4733776 34.1591972,31.3171641 L34.1591972,31.3171641 L26.542066,23.6996641 L33.5591874,16.6828489 C33.6342057,16.6078338 33.6763508,16.5060896 33.6763508,16.4 C33.6763508,16.1790861 33.4972647,16 33.2763508,16 L33.2763508,16 L30.1637654,16 C30.0576705,16 29.9559218,16.0421493 29.8809058,16.1171741 L29.8809058,16.1171741 L24.420066,21.5786641 L18.9582218,16.1171488 C18.883208,16.0421394 18.7814701,16 18.6753876,16 L18.6753876,16 Z",id:"CloseCircleFill-形状结合",fill:"currentColor",fillRule:"nonzero"}))))}function li(e){return w.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),w.createElement("g",{id:"QuestionCircleOutline-QuestionCircleOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},w.createElement("g",{id:"QuestionCircleOutline-编组"},w.createElement("rect",{id:"QuestionCircleOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),w.createElement("path",{d:"M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M24,5 C13.5065898,5 5,13.5065898 5,24 C5,34.4934102 13.5065898,43 24,43 C34.4934102,43 43,34.4934102 43,24 C43,13.5065898 34.4934102,5 24,5 Z M26,32.4 L26,34.6 C26,34.8209139 25.8209139,35 25.6,35 L23.4,35 C23.1790861,35 23,34.8209139 23,34.6 L23,32.4 C23,32.1790861 23.1790861,32 23.4,32 L25.6,32 C25.8209139,32 26,32.1790861 26,32.4 Z M24,12 C27.8659932,12 31,15.1340068 31,19 C31,22.1706393 28.8919961,24.8489278 26.0010432,25.7098107 L26.0001268,28.6 C25.9999299,28.8208643 25.8208644,28.9998731 25.6,29 L23.4,29 C23.1790861,29 23,28.8209139 23,28.6 L23,23.4 C23,23.1790861 23.1790861,23 23.4,23 L24,23 L24,23 C26.209139,23 28,21.209139 28,19 C28,16.790861 26.209139,15 24,15 C21.790861,15 20,16.790861 20,19 L17,19 C17,15.1340068 20.1340068,12 24,12 Z",id:"QuestionCircleOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}function ui(e){return w.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),w.createElement("g",{id:"RightOutline-RightOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},w.createElement("g",{id:"RightOutline-RightOutlined"},w.createElement("rect",{id:"RightOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),w.createElement("path",{d:"M17.3947957,5.11219264 L35.5767382,22.6612572 L35.5767382,22.6612572 C36.1304785,23.2125856 36.1630514,24.0863155 35.6744571,24.6755735 L35.5767382,24.7825775 L17.3956061,42.8834676 C17.320643,42.9580998 17.2191697,43 17.1133896,43 L13.9866673,43 C13.7657534,43 13.5866673,42.8209139 13.5866673,42.6 C13.5866673,42.4936115 13.6290496,42.391606 13.7044413,42.316542 L32.3201933,23.7816937 L32.3201933,23.7816937 L13.7237117,5.6866816 C13.5653818,5.53262122 13.5619207,5.27937888 13.7159811,5.121049 C13.7912854,5.04365775 13.8946805,5 14.0026627,5 L17.1170064,5 C17.2206403,5 17.3202292,5.04022164 17.3947957,5.11219264 Z",id:"RightOutline-right",fill:"currentColor",fillRule:"nonzero"}))))}const ci=Xn(sr);function fi(e){return!!e&&typeof e=="object"&&typeof e.then=="function"}function di(){return qn?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1}const ne="adm-button",mi={color:"default",fill:"solid",block:!1,loading:!1,loadingIcon:R.createElement(Dn,{color:"currentColor"}),type:"button",shape:"default",size:"middle"},ts=w.forwardRef((e,t)=>{const r=Ge(mi,e),[i,n]=w.useState(!1),a=w.useRef(null),o=r.loading==="auto"?i:r.loading,s=r.disabled||o;w.useImperativeHandle(t,()=>({get nativeElement(){return a.current}}));const l=u=>an(void 0,void 0,void 0,function*(){if(!r.onClick)return;const c=r.onClick(u);if(fi(c))try{n(!0),yield c,n(!1)}catch(f){throw n(!1),f}});return ke(r,R.createElement("button",{ref:a,type:r.type,form:r.form,onClick:l,className:ae(ne,{[`${ne}-${r.color}`]:r.color,[`${ne}-block`]:r.block,[`${ne}-disabled`]:s,[`${ne}-fill-outline`]:r.fill==="outline",[`${ne}-fill-none`]:r.fill==="none",[`${ne}-mini`]:r.size==="mini",[`${ne}-small`]:r.size==="small",[`${ne}-large`]:r.size==="large",[`${ne}-loading`]:o},`${ne}-shape-${r.shape}`),disabled:s,onMouseDown:r.onMouseDown,onMouseUp:r.onMouseUp,onTouchStart:r.onTouchStart,onTouchEnd:r.onTouchEnd},o?R.createElement("div",{className:`${ne}-loading-wrapper`},r.loadingIcon,r.loadingText):R.createElement("span",null,r.children)))});function fn(e){if(Array.isArray(e))return e}function gi(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,n,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=a.call(r)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw n}}return s}}function qt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function lr(e,t){if(e){if(typeof e=="string")return qt(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qt(e,t):void 0}}function dn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nt(e,t){return fn(e)||gi(e,t)||lr(e,t)||dn()}function K(e){"@babel/helpers - typeof";return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(e)}var vi=Symbol.for("react.element"),hi=Symbol.for("react.transitional.element"),pi=Symbol.for("react.fragment");function yi(e){return e&&K(e)==="object"&&(e.$$typeof===vi||e.$$typeof===hi)&&e.type===pi}function he(e,t){for(var r=e,i=0;i<t.length;i+=1){if(r==null)return;r=r[t[i]]}return r}function bi(e,t){if(K(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(K(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mn(e){var t=bi(e,"string");return K(t)=="symbol"?t:t+""}function x(e,t,r){return(t=mn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ar(Object(r),!0).forEach(function(i){x(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ar(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function wi(e){if(Array.isArray(e))return qt(e)}function gn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(e){return wi(e)||gn(e)||lr(e)||Fi()}function Ei(e){return fn(e)||gn(e)||lr(e)||dn()}function vn(e,t,r,i){if(!t.length)return r;var n=Ei(t),a=n[0],o=n.slice(1),s;return!e&&typeof a=="number"?s=[]:Array.isArray(e)?s=j(e):s=I({},e),i&&r===void 0&&o.length===1?delete s[a][o[0]]:s[a]=vn(s[a],o,r,i),s}function ce(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.length&&i&&r===void 0&&!he(e,t.slice(0,-1))?e:vn(e,t,r,i)}function xi(e){return K(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function Vr(e){return Array.isArray(e)?[]:{}}var Ci=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Qe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=Vr(t[0]);return t.forEach(function(n){function a(o,s){var l=new Set(s),u=he(n,o),c=Array.isArray(u);if(c||xi(u)){if(!l.has(u)){l.add(u);var f=he(i,o);c?i=ce(i,o,[]):(!f||K(f)!=="object")&&(i=ce(i,o,Vr(u))),Ci(u).forEach(function(m){a([].concat(j(o),[m]),l)})}}else i=ce(i,o,u)}a([])}),i}var Dt={},Oi=function(t){};function Ri(e,t){}function Pi(e,t){}function Ai(){Dt={}}function hn(e,t,r){!t&&!Dt[r]&&(e(!1,r),Dt[r]=!0)}function oe(e,t){hn(Ri,e,t)}function Vi(e,t){hn(Pi,e,t)}oe.preMessage=Oi;oe.resetWarned=Ai;oe.noteOnce=Vi;const Xe="adm-list",ki={mode:"default"},$i=w.forwardRef((e,t)=>{const r=Ge(ki,e),i=w.useRef(null);return w.useImperativeHandle(t,()=>({get nativeElement(){return i.current}})),ke(r,R.createElement("div",{className:ae(Xe,`${Xe}-${r.mode}`),ref:i},r.header&&R.createElement("div",{className:`${Xe}-header`},r.header),R.createElement("div",{className:`${Xe}-body`},R.createElement("div",{className:`${Xe}-body-inner`},r.children))))});function ft(e){return e!=null&&e!==!1}const Ee="adm-list-item",Si=e=>{var t,r;const{arrow:i,arrowIcon:n}=e,{list:a={}}=Rt(),o=(t=e.clickable)!==null&&t!==void 0?t:!!e.onClick,s=(r=i??n)!==null&&r!==void 0?r:o,l=Wn(a.arrowIcon,i!==!0?i:null,n!==!0?n:null),u=R.createElement("div",{className:`${Ee}-content`},ft(e.prefix)&&R.createElement("div",{className:`${Ee}-content-prefix`},e.prefix),R.createElement("div",{className:`${Ee}-content-main`},ft(e.title)&&R.createElement("div",{className:`${Ee}-title`},e.title),e.children,ft(e.description)&&R.createElement("div",{className:`${Ee}-description`},e.description)),ft(e.extra)&&R.createElement("div",{className:`${Ee}-content-extra`},e.extra),s&&R.createElement("div",{className:`${Ee}-content-arrow`},l||R.createElement(ui,null)));return ke(e,R.createElement(o?"a":"div",{className:ae(`${Ee}`,o?["adm-plain-anchor"]:[],e.disabled&&`${Ee}-disabled`),onClick:e.disabled?void 0:e.onClick},u))},tt=ir($i,{Item:Si});function yt(){return yt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},yt.apply(null,arguments)}function Ni(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}function ur(e,t){if(e==null)return{};var r,i,n=Ni(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pn(e,t){this.v=e,this.k=t}function Y(e,t,r,i){var n=Object.defineProperty;try{n({},"",{})}catch{n=0}Y=function(o,s,l,u){if(s)n?n(o,s,{value:l,enumerable:!u,configurable:!u,writable:!u}):o[s]=l;else{var c=function(m,h){Y(o,m,function(v){return this._invoke(m,h,v)})};c("next",0),c("throw",1),c("return",2)}},Y(e,t,r,i)}function cr(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r=typeof Symbol=="function"?Symbol:{},i=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(h,v,g,b){var d=v&&v.prototype instanceof s?v:s,p=Object.create(d.prototype);return Y(p,"_invoke",function(y,F,E){var O,C,V,P=0,A=E||[],k=!1,$={p:0,n:0,v:e,a:N,f:N.bind(e,4),d:function(L,M){return O=L,C=0,V=e,$.n=M,o}};function N(S,L){for(C=S,V=L,t=0;!k&&P&&!M&&t<A.length;t++){var M,_=A[t],H=$.p,B=_[2];S>3?(M=B===L)&&(V=_[(C=_[4])?5:(C=3,3)],_[4]=_[5]=e):_[0]<=H&&((M=S<2&&H<_[1])?(C=0,$.v=L,$.n=_[1]):H<B&&(M=S<3||_[0]>L||L>B)&&(_[4]=S,_[5]=L,$.n=B,C=0))}if(M||S>1)return o;throw k=!0,L}return function(S,L,M){if(P>1)throw TypeError("Generator is already running");for(k&&L===1&&N(L,M),C=L,V=M;(t=C<2?e:V)||!k;){O||(C?C<3?(C>1&&($.n=-1),N(C,V)):$.n=V:$.v=V);try{if(P=2,O){if(C||(S="next"),t=O[S]){if(!(t=t.call(O,V)))throw TypeError("iterator result is not an object");if(!t.done)return t;V=t.value,C<2&&(C=0)}else C===1&&(t=O.return)&&t.call(O),C<2&&(V=TypeError("The iterator does not provide a '"+S+"' method"),C=1);O=e}else if((t=(k=$.n<0)?V:y.call(F,$))!==o)break}catch(_){O=e,C=1,V=_}finally{P=1}}return{value:t,done:k}}}(h,g,b),!0),p}var o={};function s(){}function l(){}function u(){}t=Object.getPrototypeOf;var c=[][i]?t(t([][i]())):(Y(t={},i,function(){return this}),t),f=u.prototype=s.prototype=Object.create(c);function m(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,u):(h.__proto__=u,Y(h,n,"GeneratorFunction")),h.prototype=Object.create(f),h}return l.prototype=u,Y(f,"constructor",u),Y(u,"constructor",l),l.displayName="GeneratorFunction",Y(u,n,"GeneratorFunction"),Y(f),Y(f,n,"Generator"),Y(f,i,function(){return this}),Y(f,"toString",function(){return"[object Generator]"}),(cr=function(){return{w:a,m}})()}function bt(e,t){function r(n,a,o,s){try{var l=e[n](a),u=l.value;return u instanceof pn?t.resolve(u.v).then(function(c){r("next",c,o,s)},function(c){r("throw",c,o,s)}):t.resolve(u).then(function(c){l.value=c,o(l)},function(c){return r("throw",c,o,s)})}catch(c){s(c)}}var i;this.next||(Y(bt.prototype),Y(bt.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Y(this,"_invoke",function(n,a,o){function s(){return new t(function(l,u){r(n,o,l,u)})}return i=i?i.then(s,s):s()},!0)}function yn(e,t,r,i,n){return new bt(cr().w(e,t,r,i),n||Promise)}function Mi(e,t,r,i,n){var a=yn(e,t,r,i,n);return a.next().then(function(o){return o.done?o.value:a.next()})}function _i(e){var t=Object(e),r=[];for(var i in t)r.unshift(i);return function n(){for(;r.length;)if((i=r.pop())in t)return n.value=i,n.done=!1,n;return n.done=!0,n}}function kr(e){if(e!=null){var t=e[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(K(e)+" is not iterable")}function se(){var e=cr(),t=e.m(se),r=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function i(o){var s=typeof o=="function"&&o.constructor;return!!s&&(s===r||(s.displayName||s.name)==="GeneratorFunction")}var n={throw:1,return:2,break:3,continue:3};function a(o){var s,l;return function(u){s||(s={stop:function(){return l(u.a,2)},catch:function(){return u.v},abrupt:function(f,m){return l(u.a,n[f],m)},delegateYield:function(f,m,h){return s.resultName=m,l(u.d,kr(f),h)},finish:function(f){return l(u.f,f)}},l=function(f,m,h){u.p=s.prev,u.n=s.next;try{return f(m,h)}finally{s.next=u.n}}),s.resultName&&(s[s.resultName]=u.v,s.resultName=void 0),s.sent=u.v,s.next=u.n;try{return o.call(this,s)}finally{u.p=s.prev,u.n=s.next}}}return(se=function(){return{wrap:function(l,u,c,f){return e.w(a(l),u,c,f&&f.reverse())},isGeneratorFunction:i,mark:e.m,awrap:function(l,u){return new pn(l,u)},AsyncIterator:bt,async:function(l,u,c,f,m){return(i(u)?yn:Mi)(a(l),u,c,f,m)},keys:_i,values:kr}})()}function $r(e,t,r,i,n,a,o){try{var s=e[a](o),l=s.value}catch(u){return void r(u)}s.done?t(l):Promise.resolve(l).then(i,n)}function ot(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var a=e.apply(t,r);function o(l){$r(a,i,n,o,s,"next",l)}function s(l){$r(a,i,n,o,s,"throw",l)}o(void 0)})}}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Li(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,mn(i.key),i)}}function dr(e,t,r){return t&&Li(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(e,t){return Wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wt(e,t)}function Ti(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wt(e,t)}function wt(e){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wt(e)}function bn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bn=function(){return!!e})()}function ji(e,t){if(t&&(K(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function Ii(e){var t=bn();return function(){var r,i=wt(e);if(t){var n=wt(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return ji(this,r)}}function Ht(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[];return R.Children.forEach(e,function(i){i==null&&!t.keepEmpty||(Array.isArray(i)?r=r.concat(Ht(i)):yi(i)&&i.props?r=r.concat(Ht(i.props.children,t)):r.push(i))}),r}function Sr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=new Set;function n(a,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=i.has(a);if(oe(!l,"Warning: There may be circular references"),l)return!1;if(a===o)return!0;if(r&&s>1)return!1;i.add(a);var u=s+1;if(Array.isArray(a)){if(!Array.isArray(o)||a.length!==o.length)return!1;for(var c=0;c<a.length;c++)if(!n(a[c],o[c],u))return!1;return!0}if(a&&o&&K(a)==="object"&&K(o)==="object"){var f=Object.keys(a);return f.length!==Object.keys(o).length?!1:f.every(function(m){return n(a[m],o[m],u)})}return!1}return n(e,t)}var Le="RC_FORM_INTERNAL_HOOKS",D=function(){oe(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Ie=w.createContext({getFieldValue:D,getFieldsValue:D,getFieldError:D,getFieldWarning:D,getFieldsError:D,isFieldsTouched:D,isFieldTouched:D,isFieldValidating:D,isFieldsValidating:D,resetFields:D,setFields:D,setFieldValue:D,setFieldsValue:D,validateFields:D,submit:D,getInternalHooks:function(){return D(),{dispatch:D,initEntityValue:D,registerField:D,useSubscribe:D,setInitialValues:D,destroyForm:D,setCallbacks:D,registerWatch:D,getFields:D,setValidateMessages:D,setPreserve:D,getInitialValue:D}}}),Ft=w.createContext(null);function Ut(e){return e==null?[]:Array.isArray(e)?e:[e]}function qi(e){return e&&!!e._init}function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Te.apply(this,arguments)}function Di(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,it(e,t)}function Bt(e){return Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bt(e)}function it(e,t){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},it(e,t)}function Wi(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pt(e,t,r){return Wi()?pt=Reflect.construct.bind():pt=function(n,a,o){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(n,s),u=new l;return o&&it(u,o.prototype),u},pt.apply(null,arguments)}function Hi(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function zt(e){var t=typeof Map=="function"?new Map:void 0;return zt=function(i){if(i===null||!Hi(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(i))return t.get(i);t.set(i,n)}function n(){return pt(i,arguments,Bt(this).constructor)}return n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),it(n,i)},zt(e)}var Ui=/%[sdj%]/g,Bi=function(){};function Kt(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var i=r.field;t[i]=t[i]||[],t[i].push(r)}),t}function te(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var n=0,a=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var o=e.replace(Ui,function(s){if(s==="%%")return"%";if(n>=a)return s;switch(s){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}break;default:return s}});return o}return e}function zi(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function U(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||zi(t)&&typeof e=="string"&&!e)}function Ki(e,t,r){var i=[],n=0,a=e.length;function o(s){i.push.apply(i,s||[]),n++,n===a&&r(i)}e.forEach(function(s){t(s,o)})}function Nr(e,t,r){var i=0,n=e.length;function a(o){if(o&&o.length){r(o);return}var s=i;i=i+1,s<n?t(e[s],a):r([])}a([])}function Gi(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,e[r]||[])}),t}var Mr=function(e){Di(t,e);function t(r,i){var n;return n=e.call(this,"Async Validation Error")||this,n.errors=r,n.fields=i,n}return t}(zt(Error));function Yi(e,t,r,i,n){if(t.first){var a=new Promise(function(m,h){var v=function(d){return i(d),d.length?h(new Mr(d,Kt(d))):m(n)},g=Gi(e);Nr(g,r,v)});return a.catch(function(m){return m}),a}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,u=0,c=[],f=new Promise(function(m,h){var v=function(b){if(c.push.apply(c,b),u++,u===l)return i(c),c.length?h(new Mr(c,Kt(c))):m(n)};s.length||(i(c),m(n)),s.forEach(function(g){var b=e[g];o.indexOf(g)!==-1?Nr(b,r,v):Ki(b,r,v)})});return f.catch(function(m){return m}),f}function Zi(e){return!!(e&&e.message!==void 0)}function Ji(e,t){for(var r=e,i=0;i<t.length;i++){if(r==null)return r;r=r[t[i]]}return r}function _r(e,t){return function(r){var i;return e.fullFields?i=Ji(t,e.fullFields):i=t[r.field||e.fullField],Zi(r)?(r.field=r.field||e.fullField,r.fieldValue=i,r):{message:typeof r=="function"?r():r,fieldValue:i,field:r.field||e.fullField}}}function Lr(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];typeof i=="object"&&typeof e[r]=="object"?e[r]=Te({},e[r],i):e[r]=i}}return e}var wn=function(t,r,i,n,a,o){t.required&&(!i.hasOwnProperty(t.field)||U(r,o||t.type))&&n.push(te(a.messages.required,t.fullField))},Xi=function(t,r,i,n,a){(/^\s+$/.test(r)||r==="")&&n.push(te(a.messages.whitespace,t.fullField))},dt,Qi=function(){if(dt)return dt;var e="[a-fA-F\\d:]",t=function(F){return F&&F.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",n=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+r+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+r+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+r+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+r+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+r+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+r+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+r+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+r+"$)|(?:^"+n+"$)"),o=new RegExp("^"+r+"$"),s=new RegExp("^"+n+"$"),l=function(F){return F&&F.exact?a:new RegExp("(?:"+t(F)+r+t(F)+")|(?:"+t(F)+n+t(F)+")","g")};l.v4=function(y){return y&&y.exact?o:new RegExp(""+t(y)+r+t(y),"g")},l.v6=function(y){return y&&y.exact?s:new RegExp(""+t(y)+n+t(y),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,m=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",d='(?:[/?#][^\\s"]*)?',p="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+m+"|"+h+v+g+")"+b+d;return dt=new RegExp("(?:^"+p+"$)","i"),dt},Tr={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},et={integer:function(t){return et.number(t)&&parseInt(t,10)===t},float:function(t){return et.number(t)&&!et.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!et.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(Tr.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Qi())},hex:function(t){return typeof t=="string"&&!!t.match(Tr.hex)}},ea=function(t,r,i,n,a){if(t.required&&r===void 0){wn(t,r,i,n,a);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?et[s](r)||n.push(te(a.messages.types[s],t.fullField,t.type)):s&&typeof r!==t.type&&n.push(te(a.messages.types[s],t.fullField,t.type))},ta=function(t,r,i,n,a){var o=typeof t.len=="number",s=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=r,f=null,m=typeof r=="number",h=typeof r=="string",v=Array.isArray(r);if(m?f="number":h?f="string":v&&(f="array"),!f)return!1;v&&(c=r.length),h&&(c=r.replace(u,"_").length),o?c!==t.len&&n.push(te(a.messages[f].len,t.fullField,t.len)):s&&!l&&c<t.min?n.push(te(a.messages[f].min,t.fullField,t.min)):l&&!s&&c>t.max?n.push(te(a.messages[f].max,t.fullField,t.max)):s&&l&&(c<t.min||c>t.max)&&n.push(te(a.messages[f].range,t.fullField,t.min,t.max))},De="enum",ra=function(t,r,i,n,a){t[De]=Array.isArray(t[De])?t[De]:[],t[De].indexOf(r)===-1&&n.push(te(a.messages[De],t.fullField,t[De].join(", ")))},na=function(t,r,i,n,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||n.push(te(a.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(r)||n.push(te(a.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},T={required:wn,whitespace:Xi,type:ea,range:ta,enum:ra,pattern:na},ia=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(U(r,"string")&&!t.required)return i();T.required(t,r,n,o,a,"string"),U(r,"string")||(T.type(t,r,n,o,a),T.range(t,r,n,o,a),T.pattern(t,r,n,o,a),t.whitespace===!0&&T.whitespace(t,r,n,o,a))}i(o)},aa=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(U(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&T.type(t,r,n,o,a)}i(o)},oa=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(r===""&&(r=void 0),U(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&(T.type(t,r,n,o,a),T.range(t,r,n,o,a))}i(o)},sa=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(U(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&T.type(t,r,n,o,a)}i(o)},la=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(U(r)&&!t.required)return i();T.required(t,r,n,o,a),U(r)||T.type(t,r,n,o,a)}i(o)},ua=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(U(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&(T.type(t,r,n,o,a),T.range(t,r,n,o,a))}i(o)},ca=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(U(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&(T.type(t,r,n,o,a),T.range(t,r,n,o,a))}i(o)},fa=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(r==null&&!t.required)return i();T.required(t,r,n,o,a,"array"),r!=null&&(T.type(t,r,n,o,a),T.range(t,r,n,o,a))}i(o)},da=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(U(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&T.type(t,r,n,o,a)}i(o)},ma="enum",ga=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(U(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&T[ma](t,r,n,o,a)}i(o)},va=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(U(r,"string")&&!t.required)return i();T.required(t,r,n,o,a),U(r,"string")||T.pattern(t,r,n,o,a)}i(o)},ha=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(U(r,"date")&&!t.required)return i();if(T.required(t,r,n,o,a),!U(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),T.type(t,l,n,o,a),l&&T.range(t,l.getTime(),n,o,a)}}i(o)},pa=function(t,r,i,n,a){var o=[],s=Array.isArray(r)?"array":typeof r;T.required(t,r,n,o,a,s),i(o)},Mt=function(t,r,i,n,a){var o=t.type,s=[],l=t.required||!t.required&&n.hasOwnProperty(t.field);if(l){if(U(r,o)&&!t.required)return i();T.required(t,r,n,s,a,o),U(r,o)||T.type(t,r,n,s,a)}i(s)},ya=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(U(r)&&!t.required)return i();T.required(t,r,n,o,a)}i(o)},rt={string:ia,method:aa,number:oa,boolean:sa,regexp:la,integer:ua,float:ca,array:fa,object:da,enum:ga,pattern:va,date:ha,url:Mt,hex:Mt,email:Mt,required:pa,any:ya};function Gt(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var Yt=Gt(),st=function(){function e(r){this.rules=null,this._messages=Yt,this.define(r)}var t=e.prototype;return t.define=function(i){var n=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(a){var o=i[a];n.rules[a]=Array.isArray(o)?o:[o]})},t.messages=function(i){return i&&(this._messages=Lr(Gt(),i)),this._messages},t.validate=function(i,n,a){var o=this;n===void 0&&(n={}),a===void 0&&(a=function(){});var s=i,l=n,u=a;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,s),Promise.resolve(s);function c(g){var b=[],d={};function p(F){if(Array.isArray(F)){var E;b=(E=b).concat.apply(E,F)}else b.push(F)}for(var y=0;y<g.length;y++)p(g[y]);b.length?(d=Kt(b),u(b,d)):u(null,s)}if(l.messages){var f=this.messages();f===Yt&&(f=Gt()),Lr(f,l.messages),l.messages=f}else l.messages=this.messages();var m={},h=l.keys||Object.keys(this.rules);h.forEach(function(g){var b=o.rules[g],d=s[g];b.forEach(function(p){var y=p;typeof y.transform=="function"&&(s===i&&(s=Te({},s)),d=s[g]=y.transform(d)),typeof y=="function"?y={validator:y}:y=Te({},y),y.validator=o.getValidationMethod(y),y.validator&&(y.field=g,y.fullField=y.fullField||g,y.type=o.getType(y),m[g]=m[g]||[],m[g].push({rule:y,value:d,source:s,field:g}))})});var v={};return Yi(m,l,function(g,b){var d=g.rule,p=(d.type==="object"||d.type==="array")&&(typeof d.fields=="object"||typeof d.defaultField=="object");p=p&&(d.required||!d.required&&g.value),d.field=g.field;function y(O,C){return Te({},C,{fullField:d.fullField+"."+O,fullFields:d.fullFields?[].concat(d.fullFields,[O]):[O]})}function F(O){O===void 0&&(O=[]);var C=Array.isArray(O)?O:[O];!l.suppressWarning&&C.length&&e.warning("async-validator:",C),C.length&&d.message!==void 0&&(C=[].concat(d.message));var V=C.map(_r(d,s));if(l.first&&V.length)return v[d.field]=1,b(V);if(!p)b(V);else{if(d.required&&!g.value)return d.message!==void 0?V=[].concat(d.message).map(_r(d,s)):l.error&&(V=[l.error(d,te(l.messages.required,d.field))]),b(V);var P={};d.defaultField&&Object.keys(g.value).map(function($){P[$]=d.defaultField}),P=Te({},P,g.rule.fields);var A={};Object.keys(P).forEach(function($){var N=P[$],S=Array.isArray(N)?N:[N];A[$]=S.map(y.bind(null,$))});var k=new e(A);k.messages(l.messages),g.rule.options&&(g.rule.options.messages=l.messages,g.rule.options.error=l.error),k.validate(g.value,g.rule.options||l,function($){var N=[];V&&V.length&&N.push.apply(N,V),$&&$.length&&N.push.apply(N,$),b(N.length?N:null)})}}var E;if(d.asyncValidator)E=d.asyncValidator(d,g.value,F,g.source,l);else if(d.validator){try{E=d.validator(d,g.value,F,g.source,l)}catch(O){console.error==null||console.error(O),l.suppressValidatorError||setTimeout(function(){throw O},0),F(O.message)}E===!0?F():E===!1?F(typeof d.message=="function"?d.message(d.fullField||d.field):d.message||(d.fullField||d.field)+" fails"):E instanceof Array?F(E):E instanceof Error&&F(E.message)}E&&E.then&&E.then(function(){return F()},function(O){return F(O)})},function(g){c(g)},s)},t.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!rt.hasOwnProperty(i.type))throw new Error(te("Unknown rule type %s",i.type));return i.type||"string"},t.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var n=Object.keys(i),a=n.indexOf("message");return a!==-1&&n.splice(a,1),n.length===1&&n[0]==="required"?rt.required:rt[this.getType(i)]||void 0},e}();st.register=function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");rt[t]=r};st.warning=Bi;st.messages=Yt;st.validators=rt;var ee="'${name}' is not a valid ${type}",Fn={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:ee,method:ee,array:ee,object:ee,number:ee,date:ee,boolean:ee,integer:ee,float:ee,regexp:ee,email:ee,url:ee,hex:ee},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},jr=st;function ba(e,t){return e.replace(/\$\{\w+\}/g,function(r){var i=r.slice(2,-1);return t[i]})}var Ir="CODE_LOGIC_ERROR";function Zt(e,t,r,i,n){return Jt.apply(this,arguments)}function Jt(){return Jt=ot(se().mark(function e(t,r,i,n,a){var o,s,l,u,c,f,m,h,v;return se().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return o=I({},i),delete o.ruleIndex,jr.warning=function(){},o.validator&&(s=o.validator,o.validator=function(){try{return s.apply(void 0,arguments)}catch(d){return console.error(d),Promise.reject(Ir)}}),l=null,o&&o.type==="array"&&o.defaultField&&(l=o.defaultField,delete o.defaultField),u=new jr(x({},t,[o])),c=Qe(Fn,n.validateMessages),u.messages(c),f=[],b.prev=10,b.next=13,Promise.resolve(u.validate(x({},t,r),I({},n)));case 13:b.next=18;break;case 15:b.prev=15,b.t0=b.catch(10),b.t0.errors&&(f=b.t0.errors.map(function(d,p){var y=d.message,F=y===Ir?c.default:y;return w.isValidElement(F)?w.cloneElement(F,{key:"error_".concat(p)}):F}));case 18:if(!(!f.length&&l)){b.next=23;break}return b.next=21,Promise.all(r.map(function(d,p){return Zt("".concat(t,".").concat(p),d,l,n,a)}));case 21:return m=b.sent,b.abrupt("return",m.reduce(function(d,p){return[].concat(j(d),j(p))},[]));case 23:return h=I(I({},i),{},{name:t,enum:(i.enum||[]).join(", ")},a),v=f.map(function(d){return typeof d=="string"?ba(d,h):d}),b.abrupt("return",v);case 26:case"end":return b.stop()}},e,null,[[10,15]])})),Jt.apply(this,arguments)}function wa(e,t,r,i,n,a){var o=e.join("."),s=r.map(function(c,f){var m=c.validator,h=I(I({},c),{},{ruleIndex:f});return m&&(h.validator=function(v,g,b){var d=!1,p=function(){for(var E=arguments.length,O=new Array(E),C=0;C<E;C++)O[C]=arguments[C];Promise.resolve().then(function(){oe(!d,"Your validator function has already return a promise. `callback` will be ignored."),d||b.apply(void 0,O)})},y=m(v,g,p);d=y&&typeof y.then=="function"&&typeof y.catch=="function",oe(d,"`callback` is deprecated. Please return a promise instead."),d&&y.then(function(){b()}).catch(function(F){b(F||" ")})}),h}).sort(function(c,f){var m=c.warningOnly,h=c.ruleIndex,v=f.warningOnly,g=f.ruleIndex;return!!m==!!v?h-g:m?1:-1}),l;if(n===!0)l=new Promise(function(){var c=ot(se().mark(function f(m,h){var v,g,b;return se().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:v=0;case 1:if(!(v<s.length)){p.next=12;break}return g=s[v],p.next=5,Zt(o,t,g,i,a);case 5:if(b=p.sent,!b.length){p.next=9;break}return h([{errors:b,rule:g}]),p.abrupt("return");case 9:v+=1,p.next=1;break;case 12:m([]);case 13:case"end":return p.stop()}},f)}));return function(f,m){return c.apply(this,arguments)}}());else{var u=s.map(function(c){return Zt(o,t,c,i,a).then(function(f){return{errors:f,rule:c}})});l=(n?Ea(u):Fa(u)).then(function(c){return Promise.reject(c)})}return l.catch(function(c){return c}),l}function Fa(e){return Xt.apply(this,arguments)}function Xt(){return Xt=ot(se().mark(function e(t){return se().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(t).then(function(n){var a,o=(a=[]).concat.apply(a,j(n));return o}));case 1:case"end":return i.stop()}},e)})),Xt.apply(this,arguments)}function Ea(e){return Qt.apply(this,arguments)}function Qt(){return Qt=ot(se().mark(function e(t){var r;return se().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=0,n.abrupt("return",new Promise(function(a){t.forEach(function(o){o.then(function(s){s.errors.length&&a([s]),r+=1,r===t.length&&a([])})})}));case 2:case"end":return n.stop()}},e)})),Qt.apply(this,arguments)}function W(e){return Ut(e)}function qr(e,t){var r={};return t.forEach(function(i){var n=he(e,i);r=ce(r,i,n)}),r}function Ue(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e&&e.some(function(i){return En(t,i,r)})}function En(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!e||!t||!r&&e.length!==t.length?!1:t.every(function(i,n){return e[n]===i})}function xa(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||K(e)!=="object"||K(t)!=="object")return!1;var r=Object.keys(e),i=Object.keys(t),n=new Set([].concat(r,i));return j(n).every(function(a){var o=e[a],s=t[a];return typeof o=="function"&&typeof s=="function"?!0:o===s})}function Ca(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&K(t.target)==="object"&&e in t.target?t.target[e]:t}function Dr(e,t,r){var i=e.length;if(t<0||t>=i||r<0||r>=i)return e;var n=e[t],a=t-r;return a>0?[].concat(j(e.slice(0,r)),[n],j(e.slice(r,t)),j(e.slice(t+1,i))):a<0?[].concat(j(e.slice(0,t)),j(e.slice(t+1,r+1)),[n],j(e.slice(r+1,i))):e}var Oa=["name"],ie=[];function Wr(e,t,r,i,n,a){return typeof e=="function"?e(t,r,"source"in a?{source:a.source}:{}):i!==n}var mr=function(e){Ti(r,e);var t=Ii(r);function r(i){var n;if(fr(this,r),n=t.call(this,i),x(q(n),"state",{resetCount:0}),x(q(n),"cancelRegisterFunc",null),x(q(n),"mounted",!1),x(q(n),"touched",!1),x(q(n),"dirty",!1),x(q(n),"validatePromise",void 0),x(q(n),"prevValidating",void 0),x(q(n),"errors",ie),x(q(n),"warnings",ie),x(q(n),"cancelRegister",function(){var l=n.props,u=l.preserve,c=l.isListField,f=l.name;n.cancelRegisterFunc&&n.cancelRegisterFunc(c,u,W(f)),n.cancelRegisterFunc=null}),x(q(n),"getNamePath",function(){var l=n.props,u=l.name,c=l.fieldContext,f=c.prefixName,m=f===void 0?[]:f;return u!==void 0?[].concat(j(m),j(u)):[]}),x(q(n),"getRules",function(){var l=n.props,u=l.rules,c=u===void 0?[]:u,f=l.fieldContext;return c.map(function(m){return typeof m=="function"?m(f):m})}),x(q(n),"refresh",function(){n.mounted&&n.setState(function(l){var u=l.resetCount;return{resetCount:u+1}})}),x(q(n),"metaCache",null),x(q(n),"triggerMetaEvent",function(l){var u=n.props.onMetaChange;if(u){var c=I(I({},n.getMeta()),{},{destroy:l});Sr(n.metaCache,c)||u(c),n.metaCache=c}else n.metaCache=null}),x(q(n),"onStoreChange",function(l,u,c){var f=n.props,m=f.shouldUpdate,h=f.dependencies,v=h===void 0?[]:h,g=f.onReset,b=c.store,d=n.getNamePath(),p=n.getValue(l),y=n.getValue(b),F=u&&Ue(u,d);switch(c.type==="valueUpdate"&&c.source==="external"&&!Sr(p,y)&&(n.touched=!0,n.dirty=!0,n.validatePromise=null,n.errors=ie,n.warnings=ie,n.triggerMetaEvent()),c.type){case"reset":if(!u||F){n.touched=!1,n.dirty=!1,n.validatePromise=void 0,n.errors=ie,n.warnings=ie,n.triggerMetaEvent(),g==null||g(),n.refresh();return}break;case"remove":{if(m){n.reRender();return}break}case"setField":{var E=c.data;if(F){"touched"in E&&(n.touched=E.touched),"validating"in E&&!("originRCField"in E)&&(n.validatePromise=E.validating?Promise.resolve([]):null),"errors"in E&&(n.errors=E.errors||ie),"warnings"in E&&(n.warnings=E.warnings||ie),n.dirty=!0,n.triggerMetaEvent(),n.reRender();return}else if("value"in E&&Ue(u,d,!0)){n.reRender();return}if(m&&!d.length&&Wr(m,l,b,p,y,c)){n.reRender();return}break}case"dependenciesUpdate":{var O=v.map(W);if(O.some(function(C){return Ue(c.relatedFields,C)})){n.reRender();return}break}default:if(F||(!v.length||d.length||m)&&Wr(m,l,b,p,y,c)){n.reRender();return}break}m===!0&&n.reRender()}),x(q(n),"validateRules",function(l){var u=n.getNamePath(),c=n.getValue(),f=l||{},m=f.triggerName,h=f.validateOnly,v=h===void 0?!1:h,g=Promise.resolve().then(ot(se().mark(function b(){var d,p,y,F,E,O,C;return se().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(n.mounted){P.next=2;break}return P.abrupt("return",[]);case 2:if(d=n.props,p=d.validateFirst,y=p===void 0?!1:p,F=d.messageVariables,E=d.validateDebounce,O=n.getRules(),m&&(O=O.filter(function(A){return A}).filter(function(A){var k=A.validateTrigger;if(!k)return!0;var $=Ut(k);return $.includes(m)})),!(E&&m)){P.next=10;break}return P.next=8,new Promise(function(A){setTimeout(A,E)});case 8:if(n.validatePromise===g){P.next=10;break}return P.abrupt("return",[]);case 10:return C=wa(u,c,O,l,y,F),C.catch(function(A){return A}).then(function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ie;if(n.validatePromise===g){var k;n.validatePromise=null;var $=[],N=[];(k=A.forEach)===null||k===void 0||k.call(A,function(S){var L=S.rule.warningOnly,M=S.errors,_=M===void 0?ie:M;L?N.push.apply(N,j(_)):$.push.apply($,j(_))}),n.errors=$,n.warnings=N,n.triggerMetaEvent(),n.reRender()}}),P.abrupt("return",C);case 13:case"end":return P.stop()}},b)})));return v||(n.validatePromise=g,n.dirty=!0,n.errors=ie,n.warnings=ie,n.triggerMetaEvent(),n.reRender()),g}),x(q(n),"isFieldValidating",function(){return!!n.validatePromise}),x(q(n),"isFieldTouched",function(){return n.touched}),x(q(n),"isFieldDirty",function(){if(n.dirty||n.props.initialValue!==void 0)return!0;var l=n.props.fieldContext,u=l.getInternalHooks(Le),c=u.getInitialValue;return c(n.getNamePath())!==void 0}),x(q(n),"getErrors",function(){return n.errors}),x(q(n),"getWarnings",function(){return n.warnings}),x(q(n),"isListField",function(){return n.props.isListField}),x(q(n),"isList",function(){return n.props.isList}),x(q(n),"isPreserve",function(){return n.props.preserve}),x(q(n),"getMeta",function(){n.prevValidating=n.isFieldValidating();var l={touched:n.isFieldTouched(),validating:n.prevValidating,errors:n.errors,warnings:n.warnings,name:n.getNamePath(),validated:n.validatePromise===null};return l}),x(q(n),"getOnlyChild",function(l){if(typeof l=="function"){var u=n.getMeta();return I(I({},n.getOnlyChild(l(n.getControlled(),u,n.props.fieldContext))),{},{isFunction:!0})}var c=Ht(l);return c.length!==1||!w.isValidElement(c[0])?{child:c,isFunction:!1}:{child:c[0],isFunction:!1}}),x(q(n),"getValue",function(l){var u=n.props.fieldContext.getFieldsValue,c=n.getNamePath();return he(l||u(!0),c)}),x(q(n),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=n.props,c=u.name,f=u.trigger,m=u.validateTrigger,h=u.getValueFromEvent,v=u.normalize,g=u.valuePropName,b=u.getValueProps,d=u.fieldContext,p=m!==void 0?m:d.validateTrigger,y=n.getNamePath(),F=d.getInternalHooks,E=d.getFieldsValue,O=F(Le),C=O.dispatch,V=n.getValue(),P=b||function(S){return x({},g,S)},A=l[f],k=c!==void 0?P(V):{},$=I(I({},l),k);$[f]=function(){n.touched=!0,n.dirty=!0,n.triggerMetaEvent();for(var S,L=arguments.length,M=new Array(L),_=0;_<L;_++)M[_]=arguments[_];h?S=h.apply(void 0,M):S=Ca.apply(void 0,[g].concat(M)),v&&(S=v(S,V,E(!0))),C({type:"updateValue",namePath:y,value:S}),A&&A.apply(void 0,M)};var N=Ut(p||[]);return N.forEach(function(S){var L=$[S];$[S]=function(){L&&L.apply(void 0,arguments);var M=n.props.rules;M&&M.length&&C({type:"validateField",namePath:y,triggerName:S})}}),$}),i.fieldContext){var a=i.fieldContext.getInternalHooks,o=a(Le),s=o.initEntityValue;s(q(n))}return n}return dr(r,[{key:"componentDidMount",value:function(){var n=this.props,a=n.shouldUpdate,o=n.fieldContext;if(this.mounted=!0,o){var s=o.getInternalHooks,l=s(Le),u=l.registerField;this.cancelRegisterFunc=u(this)}a===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var n=this.state.resetCount,a=this.props.children,o=this.getOnlyChild(a),s=o.child,l=o.isFunction,u;return l?u=s:w.isValidElement(s)?u=w.cloneElement(s,this.getControlled(s.props)):(oe(!s,"`children` of Field is not validate ReactElement."),u=s),w.createElement(w.Fragment,{key:n},u)}}]),r}(w.Component);x(mr,"contextType",Ie);x(mr,"defaultProps",{trigger:"onChange",valuePropName:"value"});function gr(e){var t=e.name,r=ur(e,Oa),i=w.useContext(Ie),n=w.useContext(Ft),a=t!==void 0?W(t):void 0,o="keep";return r.isListField||(o="_".concat((a||[]).join("_"))),w.createElement(mr,yt({key:o,name:a,isListField:!!n},r,{fieldContext:i}))}function xn(e){var t=e.name,r=e.initialValue,i=e.children,n=e.rules,a=e.validateTrigger,o=e.isListField,s=w.useContext(Ie),l=w.useContext(Ft),u=w.useRef({keys:[],id:0}),c=u.current,f=w.useMemo(function(){var g=W(s.prefixName)||[];return[].concat(j(g),j(W(t)))},[s.prefixName,t]),m=w.useMemo(function(){return I(I({},s),{},{prefixName:f})},[s,f]),h=w.useMemo(function(){return{getKey:function(b){var d=f.length,p=b[d];return[c.keys[p],b.slice(d+1)]}}},[f]);if(typeof i!="function")return oe(!1,"Form.List only accepts function as children."),null;var v=function(b,d,p){var y=p.source;return y==="internal"?!1:b!==d};return w.createElement(Ft.Provider,{value:h},w.createElement(Ie.Provider,{value:m},w.createElement(gr,{name:[],shouldUpdate:v,rules:n,validateTrigger:a,initialValue:r,isList:!0,isListField:o??!!l},function(g,b){var d=g.value,p=d===void 0?[]:d,y=g.onChange,F=s.getFieldValue,E=function(){var P=F(f||[]);return P||[]},O={add:function(P,A){var k=E();A>=0&&A<=k.length?(c.keys=[].concat(j(c.keys.slice(0,A)),[c.id],j(c.keys.slice(A))),y([].concat(j(k.slice(0,A)),[P],j(k.slice(A))))):(c.keys=[].concat(j(c.keys),[c.id]),y([].concat(j(k),[P]))),c.id+=1},remove:function(P){var A=E(),k=new Set(Array.isArray(P)?P:[P]);k.size<=0||(c.keys=c.keys.filter(function($,N){return!k.has(N)}),y(A.filter(function($,N){return!k.has(N)})))},move:function(P,A){if(P!==A){var k=E();P<0||P>=k.length||A<0||A>=k.length||(c.keys=Dr(c.keys,P,A),y(Dr(k,P,A)))}}},C=p||[];return Array.isArray(C)||(C=[]),i(C.map(function(V,P){var A=c.keys[P];return A===void 0&&(c.keys[P]=c.id,A=c.keys[P],c.id+=1),{name:P,key:A,isListField:!0}}),O,b)})))}function Ra(e){var t=!1,r=e.length,i=[];return e.length?new Promise(function(n,a){e.forEach(function(o,s){o.catch(function(l){return t=!0,l}).then(function(l){r-=1,i[s]=l,!(r>0)&&(t&&a(i),n(i))})})}):Promise.resolve([])}var Cn="__@field_split__";function _t(e){return e.map(function(t){return"".concat(K(t),":").concat(t)}).join(Cn)}var We=function(){function e(){fr(this,e),x(this,"kvs",new Map)}return dr(e,[{key:"set",value:function(r,i){this.kvs.set(_t(r),i)}},{key:"get",value:function(r){return this.kvs.get(_t(r))}},{key:"update",value:function(r,i){var n=this.get(r),a=i(n);a?this.set(r,a):this.delete(r)}},{key:"delete",value:function(r){this.kvs.delete(_t(r))}},{key:"map",value:function(r){return j(this.kvs.entries()).map(function(i){var n=nt(i,2),a=n[0],o=n[1],s=a.split(Cn);return r({key:s.map(function(l){var u=l.match(/^([^:]*):(.*)$/),c=nt(u,3),f=c[1],m=c[2];return f==="number"?Number(m):m}),value:o})})}},{key:"toJSON",value:function(){var r={};return this.map(function(i){var n=i.key,a=i.value;return r[n.join(".")]=a,null}),r}}]),e}(),Pa=["name"],Aa=dr(function e(t){var r=this;fr(this,e),x(this,"formHooked",!1),x(this,"forceRootUpdate",void 0),x(this,"subscribable",!0),x(this,"store",{}),x(this,"fieldEntities",[]),x(this,"initialValues",{}),x(this,"callbacks",{}),x(this,"validateMessages",null),x(this,"preserve",null),x(this,"lastValidatePromise",null),x(this,"getForm",function(){return{getFieldValue:r.getFieldValue,getFieldsValue:r.getFieldsValue,getFieldError:r.getFieldError,getFieldWarning:r.getFieldWarning,getFieldsError:r.getFieldsError,isFieldsTouched:r.isFieldsTouched,isFieldTouched:r.isFieldTouched,isFieldValidating:r.isFieldValidating,isFieldsValidating:r.isFieldsValidating,resetFields:r.resetFields,setFields:r.setFields,setFieldValue:r.setFieldValue,setFieldsValue:r.setFieldsValue,validateFields:r.validateFields,submit:r.submit,_init:!0,getInternalHooks:r.getInternalHooks}}),x(this,"getInternalHooks",function(i){return i===Le?(r.formHooked=!0,{dispatch:r.dispatch,initEntityValue:r.initEntityValue,registerField:r.registerField,useSubscribe:r.useSubscribe,setInitialValues:r.setInitialValues,destroyForm:r.destroyForm,setCallbacks:r.setCallbacks,setValidateMessages:r.setValidateMessages,getFields:r.getFields,setPreserve:r.setPreserve,getInitialValue:r.getInitialValue,registerWatch:r.registerWatch}):(oe(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),x(this,"useSubscribe",function(i){r.subscribable=i}),x(this,"prevWithoutPreserves",null),x(this,"setInitialValues",function(i,n){if(r.initialValues=i||{},n){var a,o=Qe(i,r.store);(a=r.prevWithoutPreserves)===null||a===void 0||a.map(function(s){var l=s.key;o=ce(o,l,he(i,l))}),r.prevWithoutPreserves=null,r.updateStore(o)}}),x(this,"destroyForm",function(){var i=new We;r.getFieldEntities(!0).forEach(function(n){r.isMergedPreserve(n.isPreserve())||i.set(n.getNamePath(),!0)}),r.prevWithoutPreserves=i}),x(this,"getInitialValue",function(i){var n=he(r.initialValues,i);return i.length?Qe(n):n}),x(this,"setCallbacks",function(i){r.callbacks=i}),x(this,"setValidateMessages",function(i){r.validateMessages=i}),x(this,"setPreserve",function(i){r.preserve=i}),x(this,"watchList",[]),x(this,"registerWatch",function(i){return r.watchList.push(i),function(){r.watchList=r.watchList.filter(function(n){return n!==i})}}),x(this,"notifyWatch",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(r.watchList.length){var n=r.getFieldsValue(),a=r.getFieldsValue(!0);r.watchList.forEach(function(o){o(n,a,i)})}}),x(this,"timeoutId",null),x(this,"warningUnhooked",function(){}),x(this,"updateStore",function(i){r.store=i}),x(this,"getFieldEntities",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return i?r.fieldEntities.filter(function(n){return n.getNamePath().length}):r.fieldEntities}),x(this,"getFieldsMap",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=new We;return r.getFieldEntities(i).forEach(function(a){var o=a.getNamePath();n.set(o,a)}),n}),x(this,"getFieldEntitiesForNamePathList",function(i){if(!i)return r.getFieldEntities(!0);var n=r.getFieldsMap(!0);return i.map(function(a){var o=W(a);return n.get(o)||{INVALIDATE_NAME_PATH:W(a)}})}),x(this,"getFieldsValue",function(i,n){r.warningUnhooked();var a,o,s;if(i===!0||Array.isArray(i)?(a=i,o=n):i&&K(i)==="object"&&(s=i.strict,o=i.filter),a===!0&&!o)return r.store;var l=r.getFieldEntitiesForNamePathList(Array.isArray(a)?a:null),u=[];return l.forEach(function(c){var f,m,h="INVALIDATE_NAME_PATH"in c?c.INVALIDATE_NAME_PATH:c.getNamePath();if(s){var v,g;if((v=(g=c).isList)!==null&&v!==void 0&&v.call(g))return}else if(!a&&(f=(m=c).isListField)!==null&&f!==void 0&&f.call(m))return;if(!o)u.push(h);else{var b="getMeta"in c?c.getMeta():null;o(b)&&u.push(h)}}),qr(r.store,u.map(W))}),x(this,"getFieldValue",function(i){r.warningUnhooked();var n=W(i);return he(r.store,n)}),x(this,"getFieldsError",function(i){r.warningUnhooked();var n=r.getFieldEntitiesForNamePathList(i);return n.map(function(a,o){return a&&!("INVALIDATE_NAME_PATH"in a)?{name:a.getNamePath(),errors:a.getErrors(),warnings:a.getWarnings()}:{name:W(i[o]),errors:[],warnings:[]}})}),x(this,"getFieldError",function(i){r.warningUnhooked();var n=W(i),a=r.getFieldsError([n])[0];return a.errors}),x(this,"getFieldWarning",function(i){r.warningUnhooked();var n=W(i),a=r.getFieldsError([n])[0];return a.warnings}),x(this,"isFieldsTouched",function(){r.warningUnhooked();for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];var o=n[0],s=n[1],l,u=!1;n.length===0?l=null:n.length===1?Array.isArray(o)?(l=o.map(W),u=!1):(l=null,u=o):(l=o.map(W),u=s);var c=r.getFieldEntities(!0),f=function(b){return b.isFieldTouched()};if(!l)return u?c.every(function(g){return f(g)||g.isList()}):c.some(f);var m=new We;l.forEach(function(g){m.set(g,[])}),c.forEach(function(g){var b=g.getNamePath();l.forEach(function(d){d.every(function(p,y){return b[y]===p})&&m.update(d,function(p){return[].concat(j(p),[g])})})});var h=function(b){return b.some(f)},v=m.map(function(g){var b=g.value;return b});return u?v.every(h):v.some(h)}),x(this,"isFieldTouched",function(i){return r.warningUnhooked(),r.isFieldsTouched([i])}),x(this,"isFieldsValidating",function(i){r.warningUnhooked();var n=r.getFieldEntities();if(!i)return n.some(function(o){return o.isFieldValidating()});var a=i.map(W);return n.some(function(o){var s=o.getNamePath();return Ue(a,s)&&o.isFieldValidating()})}),x(this,"isFieldValidating",function(i){return r.warningUnhooked(),r.isFieldsValidating([i])}),x(this,"resetWithFieldInitialValue",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=new We,a=r.getFieldEntities(!0);a.forEach(function(l){var u=l.props.initialValue,c=l.getNamePath();if(u!==void 0){var f=n.get(c)||new Set;f.add({entity:l,value:u}),n.set(c,f)}});var o=function(u){u.forEach(function(c){var f=c.props.initialValue;if(f!==void 0){var m=c.getNamePath(),h=r.getInitialValue(m);if(h!==void 0)oe(!1,"Form already set 'initialValues' with path '".concat(m.join("."),"'. Field can not overwrite it."));else{var v=n.get(m);if(v&&v.size>1)oe(!1,"Multiple Field with path '".concat(m.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(v){var g=r.getFieldValue(m),b=c.isListField();!b&&(!i.skipExist||g===void 0)&&r.updateStore(ce(r.store,m,j(v)[0].value))}}}})},s;i.entities?s=i.entities:i.namePathList?(s=[],i.namePathList.forEach(function(l){var u=n.get(l);if(u){var c;(c=s).push.apply(c,j(j(u).map(function(f){return f.entity})))}})):s=a,o(s)}),x(this,"resetFields",function(i){r.warningUnhooked();var n=r.store;if(!i){r.updateStore(Qe(r.initialValues)),r.resetWithFieldInitialValue(),r.notifyObservers(n,null,{type:"reset"}),r.notifyWatch();return}var a=i.map(W);a.forEach(function(o){var s=r.getInitialValue(o);r.updateStore(ce(r.store,o,s))}),r.resetWithFieldInitialValue({namePathList:a}),r.notifyObservers(n,a,{type:"reset"}),r.notifyWatch(a)}),x(this,"setFields",function(i){r.warningUnhooked();var n=r.store,a=[];i.forEach(function(o){var s=o.name,l=ur(o,Pa),u=W(s);a.push(u),"value"in l&&r.updateStore(ce(r.store,u,l.value)),r.notifyObservers(n,[u],{type:"setField",data:o})}),r.notifyWatch(a)}),x(this,"getFields",function(){var i=r.getFieldEntities(!0),n=i.map(function(a){var o=a.getNamePath(),s=a.getMeta(),l=I(I({},s),{},{name:o,value:r.getFieldValue(o)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return n}),x(this,"initEntityValue",function(i){var n=i.props.initialValue;if(n!==void 0){var a=i.getNamePath(),o=he(r.store,a);o===void 0&&r.updateStore(ce(r.store,a,n))}}),x(this,"isMergedPreserve",function(i){var n=i!==void 0?i:r.preserve;return n??!0}),x(this,"registerField",function(i){r.fieldEntities.push(i);var n=i.getNamePath();if(r.notifyWatch([n]),i.props.initialValue!==void 0){var a=r.store;r.resetWithFieldInitialValue({entities:[i],skipExist:!0}),r.notifyObservers(a,[i.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(r.fieldEntities=r.fieldEntities.filter(function(f){return f!==i}),!r.isMergedPreserve(s)&&(!o||l.length>1)){var u=o?void 0:r.getInitialValue(n);if(n.length&&r.getFieldValue(n)!==u&&r.fieldEntities.every(function(f){return!En(f.getNamePath(),n)})){var c=r.store;r.updateStore(ce(c,n,u,!0)),r.notifyObservers(c,[n],{type:"remove"}),r.triggerDependenciesUpdate(c,n)}}r.notifyWatch([n])}}),x(this,"dispatch",function(i){switch(i.type){case"updateValue":{var n=i.namePath,a=i.value;r.updateValue(n,a);break}case"validateField":{var o=i.namePath,s=i.triggerName;r.validateFields([o],{triggerName:s});break}}}),x(this,"notifyObservers",function(i,n,a){if(r.subscribable){var o=I(I({},a),{},{store:r.getFieldsValue(!0)});r.getFieldEntities().forEach(function(s){var l=s.onStoreChange;l(i,n,o)})}else r.forceRootUpdate()}),x(this,"triggerDependenciesUpdate",function(i,n){var a=r.getDependencyChildrenFields(n);return a.length&&r.validateFields(a),r.notifyObservers(i,a,{type:"dependenciesUpdate",relatedFields:[n].concat(j(a))}),a}),x(this,"updateValue",function(i,n){var a=W(i),o=r.store;r.updateStore(ce(r.store,a,n)),r.notifyObservers(o,[a],{type:"valueUpdate",source:"internal"}),r.notifyWatch([a]);var s=r.triggerDependenciesUpdate(o,a),l=r.callbacks.onValuesChange;if(l){var u=qr(r.store,[a]);l(u,r.getFieldsValue())}r.triggerOnFieldsChange([a].concat(j(s)))}),x(this,"setFieldsValue",function(i){r.warningUnhooked();var n=r.store;if(i){var a=Qe(r.store,i);r.updateStore(a)}r.notifyObservers(n,null,{type:"valueUpdate",source:"external"}),r.notifyWatch()}),x(this,"setFieldValue",function(i,n){r.setFields([{name:i,value:n}])}),x(this,"getDependencyChildrenFields",function(i){var n=new Set,a=[],o=new We;r.getFieldEntities().forEach(function(l){var u=l.props.dependencies;(u||[]).forEach(function(c){var f=W(c);o.update(f,function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return m.add(l),m})})});var s=function l(u){var c=o.get(u)||new Set;c.forEach(function(f){if(!n.has(f)){n.add(f);var m=f.getNamePath();f.isFieldDirty()&&m.length&&(a.push(m),l(m))}})};return s(i),a}),x(this,"triggerOnFieldsChange",function(i,n){var a=r.callbacks.onFieldsChange;if(a){var o=r.getFields();if(n){var s=new We;n.forEach(function(u){var c=u.name,f=u.errors;s.set(c,f)}),o.forEach(function(u){u.errors=s.get(u.name)||u.errors})}var l=o.filter(function(u){var c=u.name;return Ue(i,c)});l.length&&a(l,o)}}),x(this,"validateFields",function(i,n){r.warningUnhooked();var a,o;Array.isArray(i)||typeof i=="string"||typeof n=="string"?(a=i,o=n):o=i;var s=!!a,l=s?a.map(W):[],u=[],c=String(Date.now()),f=new Set,m=o||{},h=m.recursive,v=m.dirty;r.getFieldEntities(!0).forEach(function(p){if(s||l.push(p.getNamePath()),!(!p.props.rules||!p.props.rules.length)&&!(v&&!p.isFieldDirty())){var y=p.getNamePath();if(f.add(y.join(c)),!s||Ue(l,y,h)){var F=p.validateRules(I({validateMessages:I(I({},Fn),r.validateMessages)},o));u.push(F.then(function(){return{name:y,errors:[],warnings:[]}}).catch(function(E){var O,C=[],V=[];return(O=E.forEach)===null||O===void 0||O.call(E,function(P){var A=P.rule.warningOnly,k=P.errors;A?V.push.apply(V,j(k)):C.push.apply(C,j(k))}),C.length?Promise.reject({name:y,errors:C,warnings:V}):{name:y,errors:C,warnings:V}}))}}});var g=Ra(u);r.lastValidatePromise=g,g.catch(function(p){return p}).then(function(p){var y=p.map(function(F){var E=F.name;return E});r.notifyObservers(r.store,y,{type:"validateFinish"}),r.triggerOnFieldsChange(y,p)});var b=g.then(function(){return r.lastValidatePromise===g?Promise.resolve(r.getFieldsValue(l)):Promise.reject([])}).catch(function(p){var y=p.filter(function(F){return F&&F.errors.length});return Promise.reject({values:r.getFieldsValue(l),errorFields:y,outOfDate:r.lastValidatePromise!==g})});b.catch(function(p){return p});var d=l.filter(function(p){return f.has(p.join(c))});return r.triggerOnFieldsChange(d),b}),x(this,"submit",function(){r.warningUnhooked(),r.validateFields().then(function(i){var n=r.callbacks.onFinish;if(n)try{n(i)}catch(a){console.error(a)}}).catch(function(i){var n=r.callbacks.onFinishFailed;n&&n(i)})}),this.forceRootUpdate=t});function vr(e){var t=w.useRef(),r=w.useState({}),i=nt(r,2),n=i[1];if(!t.current)if(e)t.current=e;else{var a=function(){n({})},o=new Aa(a);t.current=o.getForm()}return[t.current]}var er=w.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Va=function(t){var r=t.validateMessages,i=t.onFormChange,n=t.onFormFinish,a=t.children,o=w.useContext(er),s=w.useRef({});return w.createElement(er.Provider,{value:I(I({},o),{},{validateMessages:I(I({},o.validateMessages),r),triggerFormChange:function(u,c){i&&i(u,{changedFields:c,forms:s.current}),o.triggerFormChange(u,c)},triggerFormFinish:function(u,c){n&&n(u,{values:c,forms:s.current}),o.triggerFormFinish(u,c)},registerForm:function(u,c){u&&(s.current=I(I({},s.current),{},x({},u,c))),o.registerForm(u,c)},unregisterForm:function(u){var c=I({},s.current);delete c[u],s.current=c,o.unregisterForm(u)}})},a)},ka=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],$a=function(t,r){var i=t.name,n=t.initialValues,a=t.fields,o=t.form,s=t.preserve,l=t.children,u=t.component,c=u===void 0?"form":u,f=t.validateMessages,m=t.validateTrigger,h=m===void 0?"onChange":m,v=t.onValuesChange,g=t.onFieldsChange,b=t.onFinish,d=t.onFinishFailed,p=ur(t,ka),y=w.useContext(er),F=vr(o),E=nt(F,1),O=E[0],C=O.getInternalHooks(Le),V=C.useSubscribe,P=C.setInitialValues,A=C.setCallbacks,k=C.setValidateMessages,$=C.setPreserve,N=C.destroyForm;w.useImperativeHandle(r,function(){return O}),w.useEffect(function(){return y.registerForm(i,O),function(){y.unregisterForm(i)}},[y,O,i]),k(I(I({},y.validateMessages),f)),A({onValuesChange:v,onFieldsChange:function(J){if(y.triggerFormChange(i,J),g){for(var we=arguments.length,G=new Array(we>1?we-1:0),X=1;X<we;X++)G[X-1]=arguments[X];g.apply(void 0,[J].concat(G))}},onFinish:function(J){y.triggerFormFinish(i,J),b&&b(J)},onFinishFailed:d}),$(s);var S=w.useRef(null);P(n,!S.current),S.current||(S.current=!0),w.useEffect(function(){return N},[]);var L,M=typeof l=="function";if(M){var _=O.getFieldsValue(!0);L=l(_,O)}else L=l;V(!M);var H=w.useRef();w.useEffect(function(){xa(H.current||[],a||[])||O.setFields(a||[]),H.current=a},[a,O]);var B=w.useMemo(function(){return I(I({},O),{},{validateTrigger:h})},[O,h]),$e=w.createElement(Ft.Provider,{value:null},w.createElement(Ie.Provider,{value:B},L));return c===!1?$e:w.createElement(c,yt({},p,{onSubmit:function(J){J.preventDefault(),J.stopPropagation(),O.submit()},onReset:function(J){var we;J.preventDefault(),O.resetFields(),(we=p.onReset)===null||we===void 0||we.call(p,J)}}),$e)};function Hr(e){try{return JSON.stringify(e)}catch{return Math.random()}}function hr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],n=t[1],a=n===void 0?{}:n,o=qi(a)?{form:a}:a,s=o.form,l=w.useState(),u=nt(l,2),c=u[0],f=u[1],m=w.useMemo(function(){return Hr(c)},[c]),h=w.useRef(m);h.current=m;var v=w.useContext(Ie),g=s||v,b=g&&g._init,d=W(i),p=w.useRef(d);return p.current=d,w.useEffect(function(){if(b){var y=g.getFieldsValue,F=g.getInternalHooks,E=F(Le),O=E.registerWatch,C=function(k,$){var N=o.preserve?$:k;return typeof i=="function"?i(N):he(N,p.current)},V=O(function(A,k){var $=C(A,k),N=Hr($);h.current!==N&&(h.current=N,f($))}),P=C(y(),y(!0));return c!==P&&f(P),V}},[b]),c}var Sa=w.forwardRef($a),Ye=Sa;Ye.FormProvider=Va;Ye.Field=gr;Ye.List=xn;Ye.useForm=vr;Ye.useWatch=hr;const On={name:void 0,hasFeedback:!0,layout:"vertical",requiredMarkStyle:"asterisk",disabled:!1},pr=R.createContext(On),Ur=R.createContext(null),Rn=()=>null;var Lt,Br;function Na(){if(Br)return Lt;Br=1;var e=function(p){return t(p)&&!r(p)};function t(d){return!!d&&typeof d=="object"}function r(d){var p=Object.prototype.toString.call(d);return p==="[object RegExp]"||p==="[object Date]"||a(d)}var i=typeof Symbol=="function"&&Symbol.for,n=i?Symbol.for("react.element"):60103;function a(d){return d.$$typeof===n}function o(d){return Array.isArray(d)?[]:{}}function s(d,p){return p.clone!==!1&&p.isMergeableObject(d)?g(o(d),d,p):d}function l(d,p,y){return d.concat(p).map(function(F){return s(F,y)})}function u(d,p){if(!p.customMerge)return g;var y=p.customMerge(d);return typeof y=="function"?y:g}function c(d){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(d).filter(function(p){return Object.propertyIsEnumerable.call(d,p)}):[]}function f(d){return Object.keys(d).concat(c(d))}function m(d,p){try{return p in d}catch{return!1}}function h(d,p){return m(d,p)&&!(Object.hasOwnProperty.call(d,p)&&Object.propertyIsEnumerable.call(d,p))}function v(d,p,y){var F={};return y.isMergeableObject(d)&&f(d).forEach(function(E){F[E]=s(d[E],y)}),f(p).forEach(function(E){h(d,E)||(m(d,E)&&y.isMergeableObject(p[E])?F[E]=u(E,y)(d[E],p[E],y):F[E]=s(p[E],y))}),F}function g(d,p,y){y=y||{},y.arrayMerge=y.arrayMerge||l,y.isMergeableObject=y.isMergeableObject||e,y.cloneUnlessOtherwiseSpecified=s;var F=Array.isArray(p),E=Array.isArray(d),O=F===E;return O?F?y.arrayMerge(d,p,y):v(d,p,y):s(p,y)}g.all=function(p,y){if(!Array.isArray(p))throw new Error("first argument should be an array");return p.reduce(function(F,E){return g(F,E,y)},{})};var b=g;return Lt=b,Lt}var Ma=Na();const _a=ar(Ma),Pn=e=>R.createElement(xn,{name:e.name,initialValue:e.initialValue},(t,r)=>{const i=t.map(a=>({index:a.name,key:a.key})),n=e.children(i,r).map((a,o)=>{var s;return R.createElement(tt,{key:i[o].key,mode:"card",header:(s=e.renderHeader)===null||s===void 0?void 0:s.call(e,i[o],r)},a)});return e.renderAdd&&n.push(R.createElement(tt,{key:"add",mode:"card"},R.createElement(tt.Item,{className:"adm-form-list-operation",onClick:()=>{e.onAdd?e.onAdd(r):r.add()},arrow:!1},e.renderAdd()))),R.createElement(R.Fragment,null,n)}),zr="adm-form",La=On,Ta=w.forwardRef((e,t)=>{const r=Ge(La,e),{className:i,style:n,hasFeedback:a,children:o,layout:s,footer:l,mode:u,disabled:c,requiredMarkStyle:f}=r,m=on(r,["className","style","hasFeedback","children","layout","footer","mode","disabled","requiredMarkStyle"]),{locale:h}=Rt(),v=w.useMemo(()=>_a(h.Form.defaultValidateMessages,m.validateMessages||{}),[h.Form.defaultValidateMessages,m.validateMessages]),g=[];let b=null,d=[],p=0;function y(){d.length!==0&&(p+=1,g.push(R.createElement(tt,{header:b,key:p,mode:u},d)),d=[])}return Hn(r.children,F=>{if(R.isValidElement(F)){if(F.type===Rn){y(),b=F.props.children;return}if(F.type===Pn){y(),g.push(F);return}}d.push(F)}),y(),R.createElement(Ye,Object.assign({className:ae(zr,i),style:n,ref:t},m,{validateMessages:v}),R.createElement(pr.Provider,{value:{name:m.name,hasFeedback:a,layout:s,requiredMarkStyle:f,disabled:c}},g),l&&R.createElement("div",{className:`${zr}-footer`},l))});var Me={},Kr;function ja(){if(Kr)return Me;Kr=1;var e=sn().default,t=Pt().default;Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=Me.HOOK_MARK=void 0;var r=t(Un()),i=e(At());Me.HOOK_MARK="RC_FORM_INTERNAL_HOOKS";var n=function(){(0,r.default)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},a=i.createContext({getFieldValue:n,getFieldsValue:n,getFieldError:n,getFieldWarning:n,getFieldsError:n,isFieldsTouched:n,isFieldTouched:n,isFieldValidating:n,isFieldsValidating:n,resetFields:n,setFields:n,setFieldValue:n,setFieldsValue:n,validateFields:n,submit:n,getInternalHooks:function(){return n(),{dispatch:n,initEntityValue:n,registerField:n,useSubscribe:n,setInitialValues:n,destroyForm:n,setCallbacks:n,registerWatch:n,getFields:n,setValidateMessages:n,setPreserve:n,getInitialValue:n}}});return Me.default=a,Me}var Ia=ja();const qa=ar(Ia);function Da(...e){let t;for(t=0;t<e.length&&e[t]===void 0;t++);return e[t]}const Wa=["top","right","bottom","left"],ze=Math.min,je=Math.max,Et=Math.round,mt=Math.floor,pe=e=>({x:e,y:e}),Ha={left:"right",right:"left",bottom:"top",top:"bottom"},Ua={start:"end",end:"start"};function tr(e,t,r){return je(e,ze(t,r))}function Pe(e,t){return typeof e=="function"?e(t):e}function Ae(e){return e.split("-")[0]}function lt(e){return e.split("-")[1]}function yr(e){return e==="x"?"y":"x"}function br(e){return e==="y"?"height":"width"}function xe(e){return["top","bottom"].includes(Ae(e))?"y":"x"}function wr(e){return yr(xe(e))}function Ba(e,t,r){r===void 0&&(r=!1);const i=lt(e),n=wr(e),a=br(n);let o=n==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=xt(o)),[o,xt(o)]}function za(e){const t=xt(e);return[rr(e),t,rr(t)]}function rr(e){return e.replace(/start|end/g,t=>Ua[t])}function Ka(e,t,r){const i=["left","right"],n=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?n:i:t?i:n;case"left":case"right":return t?a:o;default:return[]}}function Ga(e,t,r,i){const n=lt(e);let a=Ka(Ae(e),r==="start",i);return n&&(a=a.map(o=>o+"-"+n),t&&(a=a.concat(a.map(rr)))),a}function xt(e){return e.replace(/left|right|bottom|top/g,t=>Ha[t])}function Ya(e){return{top:0,right:0,bottom:0,left:0,...e}}function An(e){return typeof e!="number"?Ya(e):{top:e,right:e,bottom:e,left:e}}function Ct(e){const{x:t,y:r,width:i,height:n}=e;return{width:i,height:n,top:r,left:t,right:t+i,bottom:r+n,x:t,y:r}}function Gr(e,t,r){let{reference:i,floating:n}=e;const a=xe(t),o=wr(t),s=br(o),l=Ae(t),u=a==="y",c=i.x+i.width/2-n.width/2,f=i.y+i.height/2-n.height/2,m=i[s]/2-n[s]/2;let h;switch(l){case"top":h={x:c,y:i.y-n.height};break;case"bottom":h={x:c,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:f};break;case"left":h={x:i.x-n.width,y:f};break;default:h={x:i.x,y:i.y}}switch(lt(t)){case"start":h[o]-=m*(r&&u?-1:1);break;case"end":h[o]+=m*(r&&u?-1:1);break}return h}const Za=async(e,t,r)=>{const{placement:i="bottom",strategy:n="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:n}),{x:c,y:f}=Gr(u,i,l),m=i,h={},v=0;for(let g=0;g<s.length;g++){const{name:b,fn:d}=s[g],{x:p,y,data:F,reset:E}=await d({x:c,y:f,initialPlacement:i,placement:m,strategy:n,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});c=p??c,f=y??f,h={...h,[b]:{...h[b],...F}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:n}):E.rects),{x:c,y:f}=Gr(u,m,l)),g=-1)}return{x:c,y:f,placement:m,strategy:n,middlewareData:h}};async function Ot(e,t){var r;t===void 0&&(t={});const{x:i,y:n,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=Pe(t,e),v=An(h),b=s[m?f==="floating"?"reference":"floating":f],d=Ct(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),p=f==="floating"?{x:i,y:n,width:o.floating.width,height:o.floating.height}:o.reference,y=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),F=await(a.isElement==null?void 0:a.isElement(y))?await(a.getScale==null?void 0:a.getScale(y))||{x:1,y:1}:{x:1,y:1},E=Ct(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:p,offsetParent:y,strategy:l}):p);return{top:(d.top-E.top+v.top)/F.y,bottom:(E.bottom-d.bottom+v.bottom)/F.y,left:(d.left-E.left+v.left)/F.x,right:(E.right-d.right+v.right)/F.x}}const Ja=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:i,placement:n,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=Pe(e,t)||{};if(u==null)return{};const f=An(c),m={x:r,y:i},h=wr(n),v=br(h),g=await o.getDimensions(u),b=h==="y",d=b?"top":"left",p=b?"bottom":"right",y=b?"clientHeight":"clientWidth",F=a.reference[v]+a.reference[h]-m[h]-a.floating[v],E=m[h]-a.reference[h],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=O?O[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=s.floating[y]||a.floating[v]);const V=F/2-E/2,P=C/2-g[v]/2-1,A=ze(f[d],P),k=ze(f[p],P),$=A,N=C-g[v]-k,S=C/2-g[v]/2+V,L=tr($,S,N),M=!l.arrow&&lt(n)!=null&&S!==L&&a.reference[v]/2-(S<$?A:k)-g[v]/2<0,_=M?S<$?S-$:S-N:0;return{[h]:m[h]+_,data:{[h]:L,centerOffset:S-L-_,...M&&{alignmentOffset:_}},reset:M}}}),Xa=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,i;const{placement:n,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=Pe(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const d=Ae(n),p=xe(s),y=Ae(s)===s,F=await(l.isRTL==null?void 0:l.isRTL(u.floating)),E=m||(y||!g?[xt(s)]:za(s)),O=v!=="none";!m&&O&&E.push(...Ga(s,g,v,F));const C=[s,...E],V=await Ot(t,b),P=[];let A=((i=a.flip)==null?void 0:i.overflows)||[];if(c&&P.push(V[d]),f){const S=Ba(n,o,F);P.push(V[S[0]],V[S[1]])}if(A=[...A,{placement:n,overflows:P}],!P.every(S=>S<=0)){var k,$;const S=(((k=a.flip)==null?void 0:k.index)||0)+1,L=C[S];if(L&&(!(f==="alignment"?p!==xe(L):!1)||A.every(H=>H.overflows[0]>0&&xe(H.placement)===p)))return{data:{index:S,overflows:A},reset:{placement:L}};let M=($=A.filter(_=>_.overflows[0]<=0).sort((_,H)=>_.overflows[1]-H.overflows[1])[0])==null?void 0:$.placement;if(!M)switch(h){case"bestFit":{var N;const _=(N=A.filter(H=>{if(O){const B=xe(H.placement);return B===p||B==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(B=>B>0).reduce((B,$e)=>B+$e,0)]).sort((H,B)=>H[1]-B[1])[0])==null?void 0:N[0];_&&(M=_);break}case"initialPlacement":M=s;break}if(n!==M)return{reset:{placement:M}}}return{}}}};function Yr(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Zr(e){return Wa.some(t=>e[t]>=0)}const Qa=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:i="referenceHidden",...n}=Pe(e,t);switch(i){case"referenceHidden":{const a=await Ot(t,{...n,elementContext:"reference"}),o=Yr(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Zr(o)}}}case"escaped":{const a=await Ot(t,{...n,altBoundary:!0}),o=Yr(a,r.floating);return{data:{escapedOffsets:o,escaped:Zr(o)}}}default:return{}}}}};async function eo(e,t){const{placement:r,platform:i,elements:n}=e,a=await(i.isRTL==null?void 0:i.isRTL(n.floating)),o=Ae(r),s=lt(r),l=xe(r)==="y",u=["left","top"].includes(o)?-1:1,c=a&&l?-1:1,f=Pe(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof v=="number"&&(h=s==="end"?v*-1:v),l?{x:h*c,y:m*u}:{x:m*u,y:h*c}}const to=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,i;const{x:n,y:a,placement:o,middlewareData:s}=t,l=await eo(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(i=s.arrow)!=null&&i.alignmentOffset?{}:{x:n+l.x,y:a+l.y,data:{...l,placement:o}}}}},ro=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:i,placement:n}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:b=>{let{x:d,y:p}=b;return{x:d,y:p}}},...l}=Pe(e,t),u={x:r,y:i},c=await Ot(t,l),f=xe(Ae(n)),m=yr(f);let h=u[m],v=u[f];if(a){const b=m==="y"?"top":"left",d=m==="y"?"bottom":"right",p=h+c[b],y=h-c[d];h=tr(p,h,y)}if(o){const b=f==="y"?"top":"left",d=f==="y"?"bottom":"right",p=v+c[b],y=v-c[d];v=tr(p,v,y)}const g=s.fn({...t,[m]:h,[f]:v});return{...g,data:{x:g.x-r,y:g.y-i,enabled:{[m]:a,[f]:o}}}}}},no=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:i,placement:n,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Pe(e,t),c={x:r,y:i},f=xe(n),m=yr(f);let h=c[m],v=c[f];const g=Pe(s,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const y=m==="y"?"height":"width",F=a.reference[m]-a.floating[y]+b.mainAxis,E=a.reference[m]+a.reference[y]-b.mainAxis;h<F?h=F:h>E&&(h=E)}if(u){var d,p;const y=m==="y"?"width":"height",F=["top","left"].includes(Ae(n)),E=a.reference[f]-a.floating[y]+(F&&((d=o.offset)==null?void 0:d[f])||0)+(F?0:b.crossAxis),O=a.reference[f]+a.reference[y]+(F?0:((p=o.offset)==null?void 0:p[f])||0)-(F?b.crossAxis:0);v<E?v=E:v>O&&(v=O)}return{[m]:h,[f]:v}}}};function kt(){return typeof window<"u"}function Ze(e){return Vn(e)?(e.nodeName||"").toLowerCase():"#document"}function re(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function be(e){var t;return(t=(Vn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Vn(e){return kt()?e instanceof Node||e instanceof re(e).Node:!1}function fe(e){return kt()?e instanceof Element||e instanceof re(e).Element:!1}function ye(e){return kt()?e instanceof HTMLElement||e instanceof re(e).HTMLElement:!1}function Jr(e){return!kt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof re(e).ShadowRoot}function ut(e){const{overflow:t,overflowX:r,overflowY:i,display:n}=de(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!["inline","contents"].includes(n)}function io(e){return["table","td","th"].includes(Ze(e))}function $t(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Fr(e){const t=Er(),r=fe(e)?de(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(r.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(r.contain||"").includes(i))}function ao(e){let t=Ve(e);for(;ye(t)&&!Ke(t);){if(Fr(t))return t;if($t(t))return null;t=Ve(t)}return null}function Er(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ke(e){return["html","body","#document"].includes(Ze(e))}function de(e){return re(e).getComputedStyle(e)}function St(e){return fe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ve(e){if(Ze(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Jr(e)&&e.host||be(e);return Jr(t)?t.host:t}function kn(e){const t=Ve(e);return Ke(t)?e.ownerDocument?e.ownerDocument.body:e.body:ye(t)&&ut(t)?t:kn(t)}function at(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const n=kn(e),a=n===((i=e.ownerDocument)==null?void 0:i.body),o=re(n);if(a){const s=nr(o);return t.concat(o,o.visualViewport||[],ut(n)?n:[],s&&r?at(s):[])}return t.concat(n,at(n,[],r))}function nr(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $n(e){const t=de(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const n=ye(e),a=n?e.offsetWidth:r,o=n?e.offsetHeight:i,s=Et(r)!==a||Et(i)!==o;return s&&(r=a,i=o),{width:r,height:i,$:s}}function xr(e){return fe(e)?e:e.contextElement}function Be(e){const t=xr(e);if(!ye(t))return pe(1);const r=t.getBoundingClientRect(),{width:i,height:n,$:a}=$n(t);let o=(a?Et(r.width):r.width)/i,s=(a?Et(r.height):r.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const oo=pe(0);function Sn(e){const t=re(e);return!Er()||!t.visualViewport?oo:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function so(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==re(e)?!1:t}function qe(e,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=xr(e);let o=pe(1);t&&(i?fe(i)&&(o=Be(i)):o=Be(e));const s=so(a,r,i)?Sn(a):pe(0);let l=(n.left+s.x)/o.x,u=(n.top+s.y)/o.y,c=n.width/o.x,f=n.height/o.y;if(a){const m=re(a),h=i&&fe(i)?re(i):i;let v=m,g=nr(v);for(;g&&i&&h!==v;){const b=Be(g),d=g.getBoundingClientRect(),p=de(g),y=d.left+(g.clientLeft+parseFloat(p.paddingLeft))*b.x,F=d.top+(g.clientTop+parseFloat(p.paddingTop))*b.y;l*=b.x,u*=b.y,c*=b.x,f*=b.y,l+=y,u+=F,v=re(g),g=nr(v)}}return Ct({width:c,height:f,x:l,y:u})}function Cr(e,t){const r=St(e).scrollLeft;return t?t.left+r:qe(be(e)).left+r}function Nn(e,t,r){r===void 0&&(r=!1);const i=e.getBoundingClientRect(),n=i.left+t.scrollLeft-(r?0:Cr(e,i)),a=i.top+t.scrollTop;return{x:n,y:a}}function lo(e){let{elements:t,rect:r,offsetParent:i,strategy:n}=e;const a=n==="fixed",o=be(i),s=t?$t(t.floating):!1;if(i===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},u=pe(1);const c=pe(0),f=ye(i);if((f||!f&&!a)&&((Ze(i)!=="body"||ut(o))&&(l=St(i)),ye(i))){const h=qe(i);u=Be(i),c.x=h.x+i.clientLeft,c.y=h.y+i.clientTop}const m=o&&!f&&!a?Nn(o,l,!0):pe(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+m.x,y:r.y*u.y-l.scrollTop*u.y+c.y+m.y}}function uo(e){return Array.from(e.getClientRects())}function co(e){const t=be(e),r=St(e),i=e.ownerDocument.body,n=je(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=je(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-r.scrollLeft+Cr(e);const s=-r.scrollTop;return de(i).direction==="rtl"&&(o+=je(t.clientWidth,i.clientWidth)-n),{width:n,height:a,x:o,y:s}}function fo(e,t){const r=re(e),i=be(e),n=r.visualViewport;let a=i.clientWidth,o=i.clientHeight,s=0,l=0;if(n){a=n.width,o=n.height;const u=Er();(!u||u&&t==="fixed")&&(s=n.offsetLeft,l=n.offsetTop)}return{width:a,height:o,x:s,y:l}}function mo(e,t){const r=qe(e,!0,t==="fixed"),i=r.top+e.clientTop,n=r.left+e.clientLeft,a=ye(e)?Be(e):pe(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=n*a.x,u=i*a.y;return{width:o,height:s,x:l,y:u}}function Xr(e,t,r){let i;if(t==="viewport")i=fo(e,r);else if(t==="document")i=co(be(e));else if(fe(t))i=mo(t,r);else{const n=Sn(e);i={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Ct(i)}function Mn(e,t){const r=Ve(e);return r===t||!fe(r)||Ke(r)?!1:de(r).position==="fixed"||Mn(r,t)}function go(e,t){const r=t.get(e);if(r)return r;let i=at(e,[],!1).filter(s=>fe(s)&&Ze(s)!=="body"),n=null;const a=de(e).position==="fixed";let o=a?Ve(e):e;for(;fe(o)&&!Ke(o);){const s=de(o),l=Fr(o);!l&&s.position==="fixed"&&(n=null),(a?!l&&!n:!l&&s.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||ut(o)&&!l&&Mn(e,o))?i=i.filter(c=>c!==o):n=s,o=Ve(o)}return t.set(e,i),i}function vo(e){let{element:t,boundary:r,rootBoundary:i,strategy:n}=e;const o=[...r==="clippingAncestors"?$t(t)?[]:go(t,this._c):[].concat(r),i],s=o[0],l=o.reduce((u,c)=>{const f=Xr(t,c,n);return u.top=je(f.top,u.top),u.right=ze(f.right,u.right),u.bottom=ze(f.bottom,u.bottom),u.left=je(f.left,u.left),u},Xr(t,s,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ho(e){const{width:t,height:r}=$n(e);return{width:t,height:r}}function po(e,t,r){const i=ye(t),n=be(t),a=r==="fixed",o=qe(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=pe(0);function u(){l.x=Cr(n)}if(i||!i&&!a)if((Ze(t)!=="body"||ut(n))&&(s=St(t)),i){const h=qe(t,!0,a,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else n&&u();a&&!i&&n&&u();const c=n&&!i&&!a?Nn(n,s):pe(0),f=o.left+s.scrollLeft-l.x-c.x,m=o.top+s.scrollTop-l.y-c.y;return{x:f,y:m,width:o.width,height:o.height}}function Tt(e){return de(e).position==="static"}function Qr(e,t){if(!ye(e)||de(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return be(e)===r&&(r=r.ownerDocument.body),r}function _n(e,t){const r=re(e);if($t(e))return r;if(!ye(e)){let n=Ve(e);for(;n&&!Ke(n);){if(fe(n)&&!Tt(n))return n;n=Ve(n)}return r}let i=Qr(e,t);for(;i&&io(i)&&Tt(i);)i=Qr(i,t);return i&&Ke(i)&&Tt(i)&&!Fr(i)?r:i||ao(e)||r}const yo=async function(e){const t=this.getOffsetParent||_n,r=this.getDimensions,i=await r(e.floating);return{reference:po(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function bo(e){return de(e).direction==="rtl"}const wo={convertOffsetParentRelativeRectToViewportRelativeRect:lo,getDocumentElement:be,getClippingRect:vo,getOffsetParent:_n,getElementRects:yo,getClientRects:uo,getDimensions:ho,getScale:Be,isElement:fe,isRTL:bo};function Ln(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Fo(e,t){let r=null,i;const n=be(e);function a(){var s;clearTimeout(i),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const u=e.getBoundingClientRect(),{left:c,top:f,width:m,height:h}=u;if(s||t(),!m||!h)return;const v=mt(f),g=mt(n.clientWidth-(c+m)),b=mt(n.clientHeight-(f+h)),d=mt(c),y={rootMargin:-v+"px "+-g+"px "+-b+"px "+-d+"px",threshold:je(0,ze(1,l))||1};let F=!0;function E(O){const C=O[0].intersectionRatio;if(C!==l){if(!F)return o();C?o(!1,C):i=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Ln(u,e.getBoundingClientRect())&&o(),F=!1}try{r=new IntersectionObserver(E,{...y,root:n.ownerDocument})}catch{r=new IntersectionObserver(E,y)}r.observe(e)}return o(!0),a}function Eo(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:n=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=xr(e),c=n||a?[...u?at(u):[],...at(t)]:[];c.forEach(d=>{n&&d.addEventListener("scroll",r,{passive:!0}),a&&d.addEventListener("resize",r)});const f=u&&s?Fo(u,r):null;let m=-1,h=null;o&&(h=new ResizeObserver(d=>{let[p]=d;p&&p.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),r()}),u&&!l&&h.observe(u),h.observe(t));let v,g=l?qe(e):null;l&&b();function b(){const d=qe(e);g&&!Ln(g,d)&&r(),g=d,v=requestAnimationFrame(b)}return r(),()=>{var d;c.forEach(p=>{n&&p.removeEventListener("scroll",r),a&&p.removeEventListener("resize",r)}),f==null||f(),(d=h)==null||d.disconnect(),h=null,l&&cancelAnimationFrame(v)}}const xo=to,Co=ro,Oo=Xa,Ro=Qa,Po=Ja,Ao=no,Vo=(e,t,r)=>{const i=new Map,n={platform:wo,...r},a={...n.platform,_c:i};return Za(e,t,{...n,platform:a})},ko=w.memo(e=>ke(e,R.createElement("svg",{viewBox:"0 0 30 16"},R.createElement("g",{fill:"currentColor"},R.createElement("path",{d:"M0,0 L30,0 L18.07289,14.312538 C16.65863,16.009645 14.13637,16.238942 12.43926,14.824685 C12.25341,14.669808 12.08199,14.49839 11.92711,14.312538 L0,0 L0,0 Z"}))))),$o={topLeft:"top-start",topRight:"top-end",bottomLeft:"bottom-start",bottomRight:"bottom-end",leftTop:"left-start",leftBottom:"left-end",rightTop:"right-start",rightBottom:"right-end"};function So(e){var t;return(t=$o[e])!==null&&t!==void 0?t:e}var He={},en;function No(){if(en)return He;en=1;var e=Pt().default;Object.defineProperty(He,"__esModule",{value:!0}),He.default=o,He.getDOM=a,He.isDOM=n;var t=e(or()),r=e(At()),i=e(Bn());function n(s){return s instanceof HTMLElement||s instanceof SVGElement}function a(s){return s&&(0,t.default)(s)==="object"&&n(s.nativeElement)?s.nativeElement:n(s)?s:null}function o(s){var l=a(s);if(l)return l;if(s instanceof r.default.Component){var u;return(u=i.default.findDOMNode)===null||u===void 0?void 0:u.call(i.default,s)}return null}return He}var Tn=No();const Mo=ar(Tn);var Z={},gt={},tn;function _o(){if(tn)return gt;tn=1;var e=sn().default;Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=r;var t=e(At());function r(i,n,a){var o=t.useRef({});return(!("value"in o.current)||a(o.current.condition,n))&&(o.current.value=i(),o.current.condition=n),o.current.value}return gt}var vt={},rn;function Lo(){if(rn)return vt;rn=1;var e=Pt().default;Object.defineProperty(vt,"__esModule",{value:!0}),vt.default=a;var t=e(or()),r=Symbol.for("react.element"),i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(o){return o&&(0,t.default)(o)==="object"&&(o.$$typeof===r||o.$$typeof===i)&&o.type===n}return vt}var nn;function To(){if(nn)return Z;nn=1;var e=Pt().default;Object.defineProperty(Z,"__esModule",{value:!0}),Z.useComposeRef=Z.supportRef=Z.supportNodeRef=Z.getNodeRef=Z.fillRef=Z.composeRef=void 0;var t=e(or()),r=At(),i=zn(),n=e(_o()),a=e(Lo()),o=Number(r.version.split(".")[0]),s=Z.fillRef=function(m,h){typeof m=="function"?m(h):(0,t.default)(m)==="object"&&m&&"current"in m&&(m.current=h)},l=Z.composeRef=function(){for(var m=arguments.length,h=new Array(m),v=0;v<m;v++)h[v]=arguments[v];var g=h.filter(Boolean);return g.length<=1?g[0]:function(b){h.forEach(function(d){s(d,b)})}};Z.useComposeRef=function(){for(var m=arguments.length,h=new Array(m),v=0;v<m;v++)h[v]=arguments[v];return(0,n.default)(function(){return l.apply(void 0,h)},h,function(g,b){return g.length!==b.length||g.every(function(d,p){return d!==b[p]})})};var u=Z.supportRef=function(m){var h,v;if(!m)return!1;if(c(m)&&o>=19)return!0;var g=(0,i.isMemo)(m)?m.type.type:m.type;return!(typeof g=="function"&&!((h=g.prototype)!==null&&h!==void 0&&h.render)&&g.$$typeof!==i.ForwardRef||typeof m=="function"&&!((v=m.prototype)!==null&&v!==void 0&&v.render)&&m.$$typeof!==i.ForwardRef)};function c(f){return(0,r.isValidElement)(f)&&!(0,a.default)(f)}return Z.supportNodeRef=function(m){return c(m)&&u(m)},Z.getNodeRef=function(m){if(m&&c(m)){var h=m;return h.props.propertyIsEnumerable("ref")?h.props.ref:h.ref}return null},Z}var jt=To();class jo extends w.Component{constructor(){super(...arguments),this.element=null}componentDidMount(){this.componentDidUpdate()}componentDidUpdate(){const t=Mo(this);t instanceof Element?this.element=t:this.element=null}render(){return this.props.children}}const Io=w.forwardRef(({children:e},t)=>{const r=w.useRef(null),i=w.createRef(),n=w.Children.only(e),a=jt.supportRef(e),o=()=>{var l;return a?Tn.getDOM(r.current):(l=i.current)===null||l===void 0?void 0:l.element};w.useImperativeHandle(t,()=>({element:o()}));const s=jt.composeRef(r,jt.getNodeRef(n));return a?w.cloneElement(n,{ref:s}):w.createElement(jo,{ref:i},n)}),_e="adm-popover",qo={placement:"top",defaultVisible:!1,stopPropagation:["click"],getContainer:()=>document.body,mode:"light"},jn=w.forwardRef((e,t)=>{const r=Ge(qo,e),i=So(r.placement),[n,a]=ln({value:r.visible,defaultValue:r.defaultVisible,onChange:r.onVisibleChange});w.useImperativeHandle(t,()=>({show:()=>a(!0),hide:()=>a(!1),visible:n}),[n]);const o=w.useRef(null),s=w.useRef(null),l=w.useRef(null),u=Kn(r.stopPropagation,ke(r,R.createElement("div",{className:ae(_e,`${_e}-${r.mode}`,{[`${_e}-hidden`]:!n}),ref:s},R.createElement("div",{className:`${_e}-arrow`,ref:l},R.createElement(ko,{className:`${_e}-arrow-icon`})),R.createElement("div",{className:`${_e}-inner`},R.createElement("div",{className:`${_e}-inner-content`},r.content))))),[c,f]=w.useState(null);function m(){var v,g,b;return an(this,void 0,void 0,function*(){const d=(g=(v=o.current)===null||v===void 0?void 0:v.element)!==null&&g!==void 0?g:null,p=s.current,y=l.current;if(f(d),!d||!p||!y)return;const{x:F,y:E,placement:O,middlewareData:C}=yield Vo(d,p,{placement:i,middleware:[xo(Nt(12)),Co({padding:Nt(4),crossAxis:!1,limiter:Ao()}),Oo(),Ro(),Po({element:y,padding:Nt(12)})]});Object.assign(p.style,{left:`${F}px`,top:`${E}px`});const V=O.split("-")[0],P={top:"bottom",right:"left",bottom:"top",left:"right"}[V],{x:A,y:k}=(b=C.arrow)!==null&&b!==void 0?b:{};Object.assign(y.style,{left:A!=null?`${A}px`:"",top:k!=null?`${k}px`:"",right:"",bottom:"",[P]:"calc(var(--arrow-size) * -1)"});const $={top:"0deg",bottom:"180deg",left:"270deg",right:"90deg"}[V];y.style.setProperty("--arrow-icon-rotate",$)})}sr(()=>{m()}),w.useEffect(()=>{if(!c||!r.trigger)return;function v(){a(g=>!g)}return c.addEventListener("click",v),()=>{c.removeEventListener("click",v)}},[c,r.trigger]),w.useEffect(()=>{const v=s.current;if(!(!c||!v||!n))return Eo(c,v,m,{elementResize:typeof ResizeObserver<"u"})},[c,n]),oi(()=>{r.trigger&&a(!1)},[()=>{var v;return(v=o.current)===null||v===void 0?void 0:v.element},s],["click","touchmove"]);const h=Gn(n,!1,r.destroyOnHide);return R.createElement(R.Fragment,null,R.createElement(Io,{ref:o},r.children),h&&Yn(r.getContainer,u))}),Re="adm-popover-menu",Do=w.forwardRef((e,t)=>{const r=w.useRef(null);w.useImperativeHandle(t,()=>r.current,[]);const i=w.useCallback(a=>{var o;const{onAction:s}=e;s&&s(a),(o=r.current)===null||o===void 0||o.hide()},[e.onAction]),n=w.useMemo(()=>{const a=(e==null?void 0:e.maxCount)&&e.actions.length>(e==null?void 0:e.maxCount),o=(e==null?void 0:e.maxCount)&&(e==null?void 0:e.maxCount)*48;return R.createElement("div",{className:`${Re}-list`},R.createElement("div",{className:ae(`${Re}-list-inner`,{[`${Re}-list-scroll`]:a}),style:{height:o}},e.actions.map((s,l)=>{var u;return R.createElement("a",{key:(u=s.key)!==null&&u!==void 0?u:l,className:ae(`${Re}-item`,"adm-plain-anchor",{[`${Re}-item-disabled`]:s.disabled}),onClick:()=>{var c;s.disabled||(i(s),(c=s.onClick)===null||c===void 0||c.call(s))}},s.icon&&R.createElement("div",{className:`${Re}-item-icon`},s.icon),R.createElement("div",{className:`${Re}-item-text`},s.text))})))},[e.actions,i]);return R.createElement(jn,Object.assign({ref:r},e,{className:ae(Re,e.className),content:n}),e.children)}),Wo=ir(jn,{Menu:Do});function It(e){return e===void 0||e===!1?[]:Array.isArray(e)?e:[e]}function Ho(e){const t=e.prototype;return!!(t&&t.isReactComponent)}function Uo(e){return typeof e=="function"&&!Ho(e)&&e.defaultProps===void 0}function In(e){return Rr.isFragment(e)?!1:Rr.isMemo(e)?In(e.type):!Uo(e.type)}const Bo="__SPLIT__",Q="adm-form-item",zo=R.memo(({children:e})=>e,(e,t)=>e.value===t.value&&e.update===t.update),Ko=e=>{var t;const{locale:r,form:i={}}=Rt(),{style:n,extra:a,label:o,help:s,helpIcon:l,required:u,children:c,htmlFor:f,hidden:m,arrow:h,arrowIcon:v,childElementPosition:g="normal"}=Ge(i,e),b=w.useContext(pr),d=e.hasFeedback!==void 0?e.hasFeedback:b.hasFeedback,p=e.layout||b.layout,y=(t=e.disabled)!==null&&t!==void 0?t:b.disabled,F=(()=>{const{requiredMarkStyle:C}=b;switch(C){case"asterisk":return u&&R.createElement("span",{className:`${Q}-required-asterisk`},"*");case"text-required":return u&&R.createElement("span",{className:`${Q}-required-text`},"(",r.Form.required,")");case"text-optional":return!u&&R.createElement("span",{className:`${Q}-required-text`},"(",r.Form.optional,")");case"none":return null;default:return null}})(),E=!!o&&R.createElement("label",{className:`${Q}-label`,htmlFor:f},o,F,s&&R.createElement(Wo,{content:s,mode:"dark",trigger:"click"},R.createElement("span",{className:`${Q}-label-help`,onClick:C=>{C.stopPropagation(),C.preventDefault()}},l||R.createElement(li,null)))),O=(!!e.description||d)&&R.createElement(R.Fragment,null,e.description,d&&R.createElement(R.Fragment,null,e.errors.map((C,V)=>R.createElement("div",{key:`error-${V}`,className:`${Q}-feedback-error`},C)),e.warnings.map((C,V)=>R.createElement("div",{key:`warning-${V}`,className:`${Q}-feedback-warning`},C))));return ke(e,R.createElement(tt.Item,{style:n,title:p==="vertical"&&E,prefix:p==="horizontal"&&E,extra:a,description:O,className:ae(Q,`${Q}-${p}`,{[`${Q}-hidden`]:m,[`${Q}-has-error`]:e.errors.length}),disabled:y,onClick:e.onClick,clickable:e.clickable,arrowIcon:v||h},R.createElement("div",{className:ae(`${Q}-child`,`${Q}-child-position-${g}`)},R.createElement("div",{className:ae(`${Q}-child-inner`)},c))))},Go=e=>{const{style:t,label:r,help:i,helpIcon:n,extra:a,hasFeedback:o,name:s,required:l,noStyle:u,hidden:c,layout:f,childElementPosition:m,description:h,disabled:v,rules:g,children:b,messageVariables:d,trigger:p="onChange",validateTrigger:y=p,onClick:F,shouldUpdate:E,dependencies:O,clickable:C,arrow:V,arrowIcon:P}=e,A=on(e,["style","label","help","helpIcon","extra","hasFeedback","name","required","noStyle","hidden","layout","childElementPosition","description","disabled","rules","children","messageVariables","trigger","validateTrigger","onClick","shouldUpdate","dependencies","clickable","arrow","arrowIcon"]),{name:k}=w.useContext(pr),{validateTrigger:$}=w.useContext(qa),N=Da(y,$,p),S=w.useRef(null),L=w.useRef(0);L.current+=1;const[M,_]=w.useState({}),H=w.useCallback((G,X)=>{_(me=>{const ge=Object.assign({},me),Oe=X.join(Bo);return G.destroy?delete ge[Oe]:ge[Oe]=G,ge})},[_]);function B(G,X,me,ge){var Oe,Se;if(u&&!c)return G;const ct=(Oe=me==null?void 0:me.errors)!==null&&Oe!==void 0?Oe:[],le=Object.keys(M).reduce((z,Ne)=>{var ve,ue;const Je=(ue=(ve=M[Ne])===null||ve===void 0?void 0:ve.errors)!==null&&ue!==void 0?ue:[];return Je.length&&(z=[...z,...Je]),z},ct),Or=(Se=me==null?void 0:me.warnings)!==null&&Se!==void 0?Se:[],Fe=Object.keys(M).reduce((z,Ne)=>{var ve,ue;const Je=(ue=(ve=M[Ne])===null||ve===void 0?void 0:ve.warnings)!==null&&ue!==void 0?ue:[];return Je.length&&(z=[...z,...Je]),z},Or);return ke(e,R.createElement(Ko,{style:t,label:r,extra:a,help:i,helpIcon:n,description:h,required:ge,disabled:v,hasFeedback:o,htmlFor:X,errors:le,warnings:Fe,onClick:F&&(z=>F(z,S)),hidden:c,layout:f,childElementPosition:m,clickable:C,arrow:V,arrowIcon:P},R.createElement(Ur.Provider,{value:H},G)))}const $e=typeof b=="function";if(!s&&!$e&&!e.dependencies)return B(b);let Ce={};Ce.label=typeof r=="string"?r:"",d&&(Ce=Object.assign(Object.assign({},Ce),d));const J=w.useContext(Ur),we=G=>{if(u&&J){const X=G.name;J(G,X)}};return R.createElement(gr,Object.assign({},A,{name:s,shouldUpdate:E,dependencies:O,rules:g,trigger:p,validateTrigger:N,onMetaChange:we,messageVariables:Ce}),(G,X,me)=>{let ge=null;const Oe=l!==void 0?l:g&&g.some(le=>!!(le&&typeof le=="object"&&le.required)),Se=It(s).length&&X?X.name:[],ct=(Se.length>0&&k?[k,...Se]:Se).join("_");if($e)(E||O)&&!s&&(ge=b(me));else if(!(O&&!s))if(R.isValidElement(b)){b.props.defaultValue;const le=Object.assign(Object.assign({},b.props),G);In(b)&&(le.ref=Fe=>{const z=b.ref;z&&(typeof z=="function"&&z(Fe),"current"in z&&(z.current=Fe)),S.current=Fe}),le.id||(le.id=ct),new Set([...It(p),...It(N)]).forEach(Fe=>{le[Fe]=(...z)=>{var Ne,ve,ue;(Ne=G[Fe])===null||Ne===void 0||Ne.call(G,...z),(ue=(ve=b.props)[Fe])===null||ue===void 0||ue.call(ve,...z)}}),ge=R.createElement(zo,{value:G[e.valuePropName||"value"],update:L.current},R.cloneElement(b,le))}else ge=b;return B(ge,ct,X,Oe)})},Yo=e=>{const t=Zn(),r=w.useContext(Ie),i=r.getFieldsValue(e.to),n=R.useMemo(()=>e.children(i,r),[JSON.stringify(i),e.children]);return R.createElement(R.Fragment,null,n,e.to.map(a=>R.createElement(Zo,{key:a.toString(),form:r,namePath:a,onChange:t})))},Zo=w.memo(e=>{const t=hr(e.namePath,e.form);return ci(()=>{e.onChange()},[t]),null}),rs=ir(Ta,{Item:Go,Subscribe:Yo,Header:Rn,Array:Pn,useForm:vr,useWatch:hr});function Jo({onEnterPress:e,onKeyDown:t,nativeInputRef:r,enterKeyHint:i}){const n=a=>{e&&(a.code==="Enter"||a.keyCode===13)&&e(a),t==null||t(a)};return sr(()=>{const a=r.current;if(!(!i||!a))return a.setAttribute("enterkeyhint",i),()=>{a.removeAttribute("enterkeyhint")}},[i]),n}const ht="adm-input",Xo={defaultValue:"",clearIcon:R.createElement(si,null),onlyShowClearWhenFocus:!0},ns=w.forwardRef((e,t)=>{const{locale:r,input:i={}}=Rt(),n=Ge(Xo,i,e),[a,o]=ln(n),[s,l]=w.useState(!1),u=w.useRef(!1),c=w.useRef(null),f=Jo({onEnterPress:n.onEnterPress,onKeyDown:n.onKeyDown,nativeInputRef:c,enterKeyHint:n.enterKeyHint});w.useImperativeHandle(t,()=>({clear:()=>{o("")},focus:()=>{var v;(v=c.current)===null||v===void 0||v.focus()},blur:()=>{var v;(v=c.current)===null||v===void 0||v.blur()},get nativeElement(){return c.current}}));function m(){let v=a;if(n.type==="number"){const g=v&&Jn(parseFloat(v),n.min,n.max).toString();Number(v)!==Number(g)&&(v=g)}v!==a&&o(v)}const h=!n.clearable||!a||n.readOnly?!1:n.onlyShowClearWhenFocus?s:!0;return ke(n,R.createElement("div",{className:ae(`${ht}`,n.disabled&&`${ht}-disabled`)},R.createElement("input",{ref:c,className:`${ht}-element`,value:a,onChange:v=>{o(v.target.value)},onFocus:v=>{var g;l(!0),(g=n.onFocus)===null||g===void 0||g.call(n,v)},onBlur:v=>{var g;l(!1),m(),(g=n.onBlur)===null||g===void 0||g.call(n,v)},onPaste:n.onPaste,id:n.id,placeholder:n.placeholder,disabled:n.disabled,readOnly:n.readOnly,maxLength:n.maxLength,minLength:n.minLength,max:n.max,min:n.min,autoComplete:n.autoComplete,enterKeyHint:n.enterKeyHint,autoFocus:n.autoFocus,pattern:n.pattern,inputMode:n.inputMode,type:n.type,name:n.name,autoCapitalize:n.autoCapitalize,autoCorrect:n.autoCorrect,onKeyDown:f,onKeyUp:n.onKeyUp,onCompositionStart:v=>{var g;u.current=!0,(g=n.onCompositionStart)===null||g===void 0||g.call(n,v)},onCompositionEnd:v=>{var g;u.current=!1,(g=n.onCompositionEnd)===null||g===void 0||g.call(n,v)},onClick:n.onClick,step:n.step,role:n.role,"aria-valuenow":n["aria-valuenow"],"aria-valuemax":n["aria-valuemax"],"aria-valuemin":n["aria-valuemin"],"aria-label":n["aria-label"]}),h&&R.createElement("div",{className:`${ht}-clear`,onMouseDown:v=>{v.preventDefault()},onClick:()=>{var v,g;o(""),(v=n.onClear)===null||v===void 0||v.call(n),di()&&u.current&&(u.current=!1,(g=c.current)===null||g===void 0||g.blur())},"aria-label":r.Input.clear},n.clearIcon)))});export{ts as B,rs as F,ns as I,tt as L,un as a,ei as b,ci as c,sr as d,Vt as g,ai as u};
